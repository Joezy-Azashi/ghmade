_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[55],{"+bCN":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return S}));var n=a("q1tI"),s=a.n(n),l=a("y4gq"),o=a("tsWT"),r=a("o0o1"),i=a.n(r),c=a("HaE+"),u=a("/2UD"),d=a("4X1m"),m=a("nOHt"),p=a("xwcx"),b=s.a.createElement;var f=function(e){e.cv,e.job_id,Object(n.useContext)(d.b).dispatch;var t=Object(n.useState)(""),a=(t[0],t[1],Object(n.useState)(!1)),s=a[0],l=a[1],r=Object(n.useState)(""),i=r[0],c=(r[1],Object(n.useState)("")),u=c[0],f=(c[1],Object(n.useState)("")),h=f[0],g=(f[1],Object(n.useState)("")),v=g[0],w=(g[1],Object(n.useState)(!1)),j=w[0],N=(w[1],Object(m.useRouter)());return b("div",null,b(o.a,{title:i,linkTo:h,linkText:v,show:s,success:h.length>0,handleClose:function(){j?N.push("/jobs/applied"):N.push("/jobs"),l(!1)}},b("p",null,u)),b("div",{className:""},b("div",{className:"modal fade ",id:"applynotloggedIn","aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-backdrop":"static"},b("div",{className:"modal-dialog modal-dialog-centered",role:"document"},b("div",{className:"modal-content"},b("div",{className:"modal-body"},b("div",{className:"checkoutcontent"},b("div",null,b("button",{type:"button",className:"close fe fe-x","data-dismiss":"modal","aria-hidden":"true"}),b("h3",{className:"modalheading mt-5"},"Login"),b(p.a,null)),b("br",null))))))))},h=a("vxoU"),g=s.a.createElement;var v=function(e){var t=e.cv,a=(e.filename,e.job_id,Object(n.useContext)(d.b).dispatch,Object(n.useState)("")),l=(a[0],a[1],Object(n.useState)("")),r=l[0],p=l[1],b=Object(n.useState)(!1),f=b[0],v=b[1],w=Object(n.useState)(""),j=w[0],N=w[1],y=Object(n.useState)(""),x=y[0],O=y[1],k=Object(n.useState)(""),S=k[0],C=k[1],_=Object(n.useState)(""),P=_[0],T=_[1],E=Object(n.useState)(!1),I=E[0],D=E[1],F=Object(n.useState)(),J=(F[0],F[1]),R=Object(n.useState)(),z=R[0],L=R[1],q=Object(n.useState)(),A=(q[0],q[1],Object(n.useState)(!1)),U=A[0],B=A[1],H=Object(n.useState)(""),M=H[0],G=H[1],W=Object(m.useRouter)();Object(n.useEffect)((function(){var e=window.localStorage.getItem("cp-a");if(e=JSON.parse(e),L(e),null!==window.localStorage.getItem("cv_id")){var t=window.localStorage.getItem("cv_id");J(t)}}),[]);var X=function(e,t,a,n){v(!0),N(e),T(a),C(t),O(n)},Y=function(){var e=Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!/^\d{10}$/.test(r)){e.next=3;break}e.next=5;break;case 3:return X("Change Email","","Close","Check Phone: Please enter the correct phone number"),e.abrupt("return",!1);case 5:if(!(r.length<1)){e.next=8;break}return X("Phone Number","","Close","Phone number field can not empty"),e.abrupt("return",!1);case 8:if(!(M.length<1)){e.next=11;break}return X("Password","","Close","Password field can not empty"),e.abrupt("return",!1);case 11:return e.next=13,(new h.a).changePhone({phone_number:r,password:M});case 13:if(t=e.sent,!Array.isArray(t.phone_number)){e.next=17;break}return X("Change Phone Number","","Close","User with this phone already exist"),e.abrupt("return",!1);case 17:if(!t.password){e.next=20;break}return X("Change Phone Number","","Close","No active account found with the given credentials."),e.abrupt("return",!1);case 20:return e.abrupt("return",!0);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(i.a.mark((function e(){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=JSON.parse(window.localStorage.getItem("cp-a"))).user.is_staff){e.next=7;break}return e.next=4,(new h.a).getAdminProfile();case 4:e.sent,e.next=16;break;case 7:if(!a.user.is_organization){e.next=13;break}return e.next=10,(new h.a).getBusinessProfile();case 10:e.sent,e.next=16;break;case 13:return e.next=15,(new h.a).getUserProfile();case 15:e.sent;case 16:return e.prev=16,X("Sending Application","","","Please wait..."),e.next=20,(new u.a).createJobApplication(t);case 20:if(!(n=e.sent).key){e.next=26;break}D(!0),X("Job Application","/jobs/viewjobsandapply","close","Your application has been successfully sent.The business will contact you via email/phone number if you qualify."),e.next=29;break;case 26:if(!n.non_field_errors.includes("The fields job, user must make a unique set.")){e.next=29;break}return X("Job Application","/jobs/viewjobsandapply","close","You've already applied for this job"),e.abrupt("return");case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(16),X("Order Placement","","close","Problem applying for job. Please try again");case 34:case"end":return e.stop()}}),e,null,[[16,31]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""==z.user.phone_number){e.next=6;break}return e.next=4,V();case 4:e.next=12;break;case 6:return e.next=8,Y();case 8:if(!e.sent){e.next=12;break}return e.next=12,V();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return g("div",null,g(o.a,{title:j,linkTo:S,linkText:P,show:f,success:S.length>0,handleClose:function(){I&&W.push("/jobs"),v(!1)}},g("p",null,x)),g("div",{className:""},g("div",{className:"modal fade ",id:"applyloggedin","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},g("div",{className:"modal-dialog modal-dialog-centered",role:"document"},g("div",{className:"modal-content"},g("div",{className:"modal-body"},g("div",{className:"checkoutcontent"},g("div",null,g("h3",{className:"modalheading mt-8"},"Complete your ",g("br",null)," application")),g("br",null),g("form",null,g("div",{className:"form-group"},z&&z.user&&""===z.user.phone_number?g(s.a.Fragment,null,g("div",null,g("label",{htmlFor:"InputEmail",className:"formlabel"},"Telephone Number"),g("input",{type:"number",className:"form-control form-rounded",id:"modalnumber",value:r,placeholder:"Please enter your telephone number",onChange:function(e){return p(e.target.value)}}),g("br",null),g("label",{htmlFor:"InputEmail",className:"formlabel"},"Password"),g("div",{className:"row form-group account-email-body"},g("input",{type:U?"text":"password",id:"account-input-password",className:"form-control form-rounded mail-pass-input2",placeholder:"Confirm number with password",value:M,onChange:function(e){return G(e.target.value)}}),g("div",{className:"input-group-addon"},g("a",{href:"#"},g("i",{className:"".concat(U?"fe fe-eye":"fe fe-eye-off"),onClick:function(){return B(!U)}})))))):g(s.a.Fragment,null),g("div",{className:"form-group"},g("button",{"data-dismiss":"modal",type:"submit",id:"placeorder_button",className:"btn btn-primary btn-block authbtn",onClick:$},"Continue")))))))))))},w=a("wd/R"),j=a.n(w),N=a("fhwx"),y=a.n(N),x=a("YFqc"),O=a.n(x),k=s.a.createElement;function S(){var e=Object(n.useRef)(null),t=Object(n.useState)(""),a=t[0],r=t[1],i=Object(n.useState)("File size should not be more than 5MB"),c=i[0],u=i[1],d=Object(n.useState)(""),p=d[0],b=d[1],h=Object(n.useState)(""),g=h[0],w=h[1],N=Object(n.useState)(""),x=N[0],S=N[1],C=Object(n.useState)(""),_=C[0],P=C[1],T=Object(n.useState)(!1),E=T[0],I=T[1],D=Object(n.useState)(null),F=D[0],J=D[1],R=Object(n.useState)(!1),z=R[0],L=R[1],q=Object(n.useState)(),A=(q[0],q[1]),U=Object(n.useState)(!1),B=U[0],H=(U[1],Object(n.useState)(!1)),M=(H[0],H[1],Object(n.useState)(!1)),G=M[0],W=M[1],X=Object(n.useState)(null),Y=X[0],V=X[1],$=Object(n.useState)({}),K=$[0],Q=$[1],Z=Object(n.useState)(!1),ee=Z[0],te=Z[1];Object(n.useEffect)((function(){var e=window.location.href.substring(window.location.href.lastIndexOf("/")+1);J(e),fetch("".concat("/api","/jobportal/detailed-job/").concat(e)).then((function(e){return e.json()})).then((function(e){Q(e),te(!0)})).catch((function(e){return console.log("ERROR",e)})),window.localStorage.getItem("cp-a")&&L(!0);var t=new FormData;t.append("job",e),V(t);window.localStorage.getItem("cart_id");var a=JSON.parse(window.localStorage.getItem("user-profile"));A(a);var n=window.localStorage.getItem("cp-a");n=JSON.parse(n),L(!!n)}),[]);var ae=Object(m.useRouter)();return k(s.a.Fragment,null,k(l.a,{title:K.title},k(o.a,{title:p,linkTo:x,linkText:_,show:E,success:x.length>0,handleClose:function(){B&&ae.push("/jobs"),I(!1)}},k("p",null,g)),k("div",{className:"row ml-0 page-header"},k("h1",{className:"page-title"},"Job Details")),ee?k("div",{className:"row "},k("div",{className:"card job-detail-card row pt-5 mb-5 "},k("div",null,k("h5",{className:"ml-6 jobdetailtext capitalize-text"},K.title)),k("div",{className:"row justify-content-evenly ml-1"},k("div",null,k("h6",{className:"fe fe-map-pin ml-5"},k("span",{className:"ml-2 capitalize-text"},K.location))),k("div",null,k("h6",{className:"fe fe-clock ml-5"},k("span",{className:"ml-2 capitalize-text"},j()(K.timestamp).fromNow()))))),k("div",{className:"card job-detail-card2 row  "},k("div",{className:"row ml-5 mr-5 pt-1"},k("div",{className:"col-md-12 jobdetailtext"},"Job Details"),k("div",{className:"col-md-3"},k("div",{className:"jobdetailheader"},"Salary"),K.salary_from&&null!=K.salary_to?k("div",{className:"jobsdetailsinfo"},"GHS ",k("span",null,K.salary_from)," - GHS",k("span",null,K.salary_to)):"Confidential"),k("div",{className:"col-md-3"},k("div",{className:"jobdetailheader"},"Type"),k("div",null,{FT:"Full-Time",PT:"Part-Time",CT:"Contract",DJ:"Daily Job"}[K.type])),k("div",{className:"col-md-3"},k("div",{className:"jobdetailheader"},"Category"),k("div",{className:"capitalize-text"},K.category.title)),k("div",{className:"col-md-3"},k("div",{className:"jobdetailheader"},"Expiry Date"),null!=K.expiry_date?k("div",null,K.expiry_date):"None"))),K.owner.description?k("div",{className:"card job-detail-big-card row d-flex justify-content-end pt-1 pb-6 pl-5 pr-5 "},k("div",{className:"jobDescrition-jobDetailsc col-md-12 mt-2 mb-5"},k("div",{className:"mb-3 jobdescriptionheader jobdetailtext"},"Business Description"),k("div",null,k("p",{className:"jobdescriptiontext bulletpoint"},y()(K.owner.description)," ")))):null,k("div",{className:"card job-detail-big-card row d-flex justify-content-end pt-1 pb-6 pl-5 pr-5 "},k("div",{className:"jobDescrition-jobDetailsc col-md-12 mt-2 mb-5"},k("div",{className:"mb-3 jobdescriptionheader jobdetailtext"},"Job Description"),k("div",null,k("p",{className:"jobdescriptiontext bulletpoint"},y()(K.description)," "))),k("div",{className:"col-md-12 d-flex pl-0"},k("div",{className:"col-md-6 justify-content-start "},k("p",null,k("strong",null,"Posted by "),k(O.a,{href:"/shops/[shops]",as:"/shops/".concat(K.owner.slug)},k("img",{className:"business-image ml-4 mr-4",src:K.owner.image?K.owner.image:"/assets/images/default-add-image.png",alt:""})),k(O.a,{href:"/shops/[shops]",as:"/shops/".concat(K.owner.slug)},k("strong",{className:"capitalize-text"},K.owner.title)))),k("div",{className:"col-md-6 "},k("div",{className:"row jobdetailsbuttons justify-content-end"},k("input",{type:"file",ref:e,accept:"application/pdf",style:{display:"none"},onChange:function(e){var t=new FormData;e.target.files[0].size<=5242880?(t.append("cv",e.target.files[0],e.target.files[0].name),t.append("job",F),V(t),r(a),u(e.target.files[0].name),W(!0)):function(e,t,a,n){I(!0),b(e),P(a),S(t),w(n)}("CV Upload","","Okay","Upload file less than 5MB")}}),z?k("button",{className:"btn btn-primary uploadcv-buttons mr-5",onClick:function(t){t.preventDefault(),e.current.click()}},"Upload CV"):"",k("button",{className:"btn btn-primary applyjob-buttons",id:"apply","data-toggle":"modal","data-target":z?"#applyloggedin":"#applynotloggedIn"},"Apply")))),z?k("div",{className:"row d-flex justify-content-end mr-2 mt-1"},k("i",{className:"jobdetails-file-icon mr-3 fe fe-file-text"}),k("span",{className:"uploaded-filename"},c),G?k("i",{className:"fe fe-x-circle mt-1",onClick:function(){var e=new FormData;e.append("job",F),V(e),u("File size should not be more than 5MB")}}):null):"")):null,k(f,{cv:a,job_id:F}),k(v,{cv:Y,filename:c,job_id:F})))}},C3nf:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/jobs/details/[key]",function(){return a("+bCN")}])},tsWT:function(e,t,a){"use strict";var n=a("q1tI"),s=a.n(n),l=a("YFqc"),o=a.n(l),r=s.a.createElement;t.a=function(e){var t=Object(n.useState)(e.show),a=t[0],l=t[1];return Object(n.useEffect)((function(){l(e.show)}),[e.show]),r("div",{id:"myModal",className:"modal",style:{display:a?"block":"",zIndex:9999}},r("div",{style:{display:a?"block":"",position:"absolute",width:"100%",height:"100%",backgroundColor:"black",opacity:.6}}),r("div",{className:"modal-content",style:{width:"400px",position:"absolute",left:"50%",top:"50%",marginLeft:"-200px",verticalAlign:"middle",padding:"20px",textAlign:"center"}},r("div",{style:{fontWeight:"bold"}}," ",e.children),e.success?r(o.a,{href:e.linkTo},r("a",{className:"btn btn-primary"},e.linkText)):e.linkText.length>0?r("div",{className:"prompt"},r("a",{type:"button",className:"btn btn-primary prompt_btn",onClick:function(){e.handleClose()},style:{fontSize:15}},e.linkText)):r(s.a.Fragment,null)))}},xwcx:function(e,t,a){"use strict";var n=a("o0o1"),s=a.n(n),l=a("HaE+"),o=a("q1tI"),r=a.n(o),i=a("TBf0"),c=a("nOHt"),u=a("tsWT"),d=a("4X1m"),m=r.a.createElement;t.a=function(){var e=Object(o.useState)(""),t=e[0],a=e[1],n=Object(o.useState)(""),p=n[0],b=n[1],f=Object(o.useState)(!1),h=f[0],g=f[1],v=Object(o.useState)(""),w=v[0],j=v[1],N=Object(o.useState)(""),y=N[0],x=N[1],O=Object(o.useState)(""),k=O[0],S=O[1],C=Object(o.useState)(""),_=C[0],P=C[1],T=Object(o.useState)(!1),E=T[0],I=T[1],D=Object(o.useContext)(d.b).dispatch,F=(Object(c.useRouter)(),function(e){window.localStorage.setItem("user-profile",JSON.stringify(e)),D({type:"SET_USERINFO",payload:e})}),J=function(e,t,a,n){g(!0),j(e),P(a),S(t),x(n)},R=function(){var e=Object(l.a)(s.a.mark((function e(a){var n,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n={},e.prev=2,e.next=5,(new i.a).login(t,p);case 5:if(!(l=e.sent).user){e.next=30;break}if(window.localStorage.removeItem("cart_id"),D({type:"SET_LOGGEDIN",payload:!0}),window.localStorage.setItem("cp-a",JSON.stringify(l)),!l.user.is_staff){e.next=16;break}return e.next=13,(new i.g).getAdminProfile();case 13:n=e.sent,e.next=25;break;case 16:if(1!=l.user.is_organization){e.next=22;break}return e.next=19,(new i.g).getBusinessProfile();case 19:n=e.sent,e.next=25;break;case 22:return e.next=24,(new i.g).getUserProfile();case 24:n=e.sent;case 25:F(n),g(!1),l.user&&window.location.reload(),e.next=31;break;case 30:J("Login","","Close","No active account found with the given credentials.");case 31:e.next=36;break;case 33:e.prev=33,e.t0=e.catch(2),"Request failed with status code 401"===e.t0.message?J("Login","","Okay","Please check your credentials and try again."):"Request failed with status code 404"===e.t0.message?J("Login","","Close","Request failed"):"Network Error"===e.t0.message?J("Login","","Okay","Please check your network connection and try again."):J("Login","","Close","Login failed.");case 36:case"end":return e.stop()}}),e,null,[[2,33]])})));return function(t){return e.apply(this,arguments)}}();return m(r.a.Fragment,null,m(u.a,{title:w,linkTo:k,linkText:_,show:h,success:k.length>0,handleClose:function(){return g(!1)}},m("p",null,y)),m("form",{className:"needs-validation",noValidate:!0},m("label",{htmlFor:"InputEmail",className:"formlabel"},"Email"),m("input",{type:"email",className:"form-control form-rounded",id:"InputEmail",placeholder:"Please enter a valid email",value:t,onChange:function(e){return a(e.target.value)}}),m("div",{className:"form-group"},m("label",{htmlFor:"InputPassword1",className:"formlabel"},"Password"),m("div",{className:"inner-addon right-addon"},m("i",{className:"".concat(E?"fe fe-eye fa-lg":"fe fe-eye-off fa-lg"),onClick:function(){return I(!E)},style:{cursor:"pointer"}}),m("input",{id:"InputPassword1",className:"form-control form-rounded",type:E?"text":"password",placeholder:"Password must be at least 8 characters","data-toggle":"password",value:p,onChange:function(e){return b(e.target.value)}}))),m("div",{className:"center"},m("button",{id:"signin_button",type:"submit",className:"btn btn-primary btn-block authbtn",onClick:R},"Login")),m("br",null),m("div",{className:"center"},m("div",null,m("a",{href:"/auth/forgottenpassword",className:"texthover"},"Forgot Password?")),m("br",null),m("div",null,"Don't have an account?"," ",m("a",{className:"signuptext",href:"/auth/signup"},m("b",null,"Sign Up"))))))}}},[["C3nf",0,1,6,2,3,5,7]]]);