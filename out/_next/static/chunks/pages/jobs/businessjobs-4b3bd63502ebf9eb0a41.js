_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[54],{BLke:function(e,t,a){"use strict";a.r(t),a.d(t,"__N_SSP",(function(){return T}));var s=a("o0o1"),n=a.n(s),o=a("HaE+"),r=a("q1tI"),l=a.n(r),i=a("KQm4"),c=a("MX0m"),u=a.n(c),m=a("wd/R"),d=a.n(m),p=a("YFqc"),f=a.n(p),b=a("fhwx"),j=a.n(b),g=l.a.createElement,v=function(e){var t=e.job,a=(e.owner,e.setCheckedList),s=e.setCheck;return g("div",{className:"jsx-3391494768 col-md-6 "},g("div",{className:"jsx-3391494768 myjobscardmain card"},g("div",{className:"jsx-3391494768 row "},"\u200b",g("div",{className:"jsx-3391494768 col-md-12 d-flex justify-content-between"},g("div",{className:"jsx-3391494768 mt-4"},g("h5",{className:"jsx-3391494768 ml-2 capitalize-text"}," ",g("strong",{className:"jsx-3391494768"},t.title))),"\u200b",g("div",{className:"jsx-3391494768 d-flex"},g("div",{className:"jsx-3391494768 mr-2"},g("input",{type:"checkbox",checked:t.checked,onChange:function(e){s(t.key),e.target.checked?a((function(e){return[].concat(Object(i.a)(e),[t.key])})):a((function(e){return e.splice(e.findIndex((function(e){return e==t.key})),1),e}))},className:"jsx-3391494768 mt-4"})),g("div",{style:{marginTop:"13.5px"},className:"jsx-3391494768"},g(f.a,{href:"/jobs/edit/[jobid]",as:"/jobs/edit/".concat(t.key)},g("i",{className:"jsx-3391494768 fe fe-edit-2"})))))),"\u200b",g(f.a,{href:"/jobs/edit/[jobid]",as:"/jobs/edit/".concat(t.key)},g("a",{className:"jsx-3391494768 jobcard"},g("div",{className:"jsx-3391494768 row "},"\u200b",g("div",{className:"jsx-3391494768 col-md-12 d-flex justify-content-evenly"},g("div",{className:"jsx-3391494768 ml-0"},g("h6",{className:"jsx-3391494768 fe fe-map-pin ml-2"},g("span",{className:"jsx-3391494768 ml-2 mr-2 capitalize-text"},t.location))),"\u200b",g("div",{className:"jsx-3391494768"},g("h6",{className:"jsx-3391494768 ml-5 fe fe-clock"},g("span",{className:"jsx-3391494768 ml-2 mr-2 capitalize-text"},d()(t.timestamp).fromNow()))))),"\u200b",g("div",{className:"jsx-3391494768 row"},g("h5",{className:"jsx-3391494768 ml-5 mb-0"},g("strong",{className:"jsx-3391494768"},"Job Description"))),"\u200b",g("div",{className:"jsx-3391494768 row "},g("p",{className:"jsx-3391494768 ml-5 job-description bulletpoint"},g("div",{className:"jsx-3391494768"},j()(t.description)))),g("div",{className:"jsx-3391494768 "},g("span",{className:"jsx-3391494768 row"},t.salary_from&&null!=t.salary_to?g("h5",{className:"jsx-3391494768 ml-5"},g("strong",{className:"jsx-3391494768"},"Salary range: GHS ",t.salary_from," - GHS ",t.salary_to)):g("h5",{className:"jsx-3391494768 ml-5"},g("strong",{className:"jsx-3391494768"},"Salary: Confidential")))),"\u200b"))),g(u.a,{id:"3391494768"},["a.jobcard.jsx-3391494768:hover{color:black;}"]))},N=a("y4gq"),y=a("tsWT"),x=a("z1NJ"),h=a("I+5a"),k=a.n(h),w=a("Nm0s"),S=a("nOHt"),O=a("MXb5"),_=a.n(O),C=l.a.createElement;var T=!0;t.default=function(e){var t=e.currentPage,a=Object(r.useState)(0),s=a[0],i=a[1],c=Object(r.useState)(32)[0],u=Object(r.useState)([]),m=u[0],d=u[1],p=Object(r.useState)([{key:"FT",name:"Full Time"},{key:"PT",name:"Part Time"},{key:"CT",name:"Contract"},{key:"DJ",name:"Daily Job"}])[0],f=Object(r.useState)(""),b=f[0],j=f[1],g=Object(r.useState)(""),h=g[0],O=g[1],T=Object(r.useState)(""),J=T[0],I=(T[1],Object(r.useState)("")),E=I[0],L=I[1],P=Object(r.useState)(""),D=P[0],z=P[1],A=Object(r.useState)(""),F=A[0],q=A[1],H=Object(r.useState)([]),M=H[0],X=H[1],Y=Object(r.useState)([]),R=Y[0],W=Y[1],B=Object(r.useState)({title:"",image:""}),G=B[0],K=B[1],Q=Object(r.useState)([]),U=Q[0],V=Q[1],Z=Object(r.useState)(!1),$=Z[0],ee=Z[1],te=Object(r.useState)(""),ae=te[0],se=te[1],ne=Object(r.useState)(""),oe=ne[0],re=ne[1],le=Object(r.useState)(""),ie=le[0],ce=le[1],ue=Object(r.useState)(""),me=ue[0],de=ue[1],pe=Object(r.useState)(!1),fe=pe[0],be=pe[1],je=Object(S.useRouter)(),ge=function(e,t,a,s){ee(!0),se(e),de(a),ce(t),re(s)};Object(r.useEffect)((function(){var e=JSON.parse(JSON.stringify(M));F.length>0&&(e=e.filter((function(e){return e.title.includes(F.toLowerCase())||e.category.title.toLowerCase().includes(F)||e.location.includes(F.toLowerCase())||e.salary_from>=F||e.salary_to<=F}))),b.length>0&&(e=e.filter((function(e){return e.category.key==b}))),h.length>0&&(e=e.filter((function(e){return e.type==h}))),J.length>0&&(e=e.filter((function(e){return e.location==J}))),parseInt(E)>0&&(e=e.filter((function(e){return parseInt(E)<=parseInt(e.salary_from)}))),parseInt(D)>0&&(e=e.filter((function(e){return parseInt(D)>=parseInt(E)&&parseInt(D)>=parseInt(e.salary_to)}))),W(e.slice(0,10))}),[b,h,J,E,D,F]);var ve=function(e){var t=R.map((function(t){return t.key==e&&(t.checked=!t.checked),t}));W(t)};return Object(r.useEffect)((function(){var e=JSON.parse(window.localStorage.getItem("user-profile"));K(e),(new x.a).getjobs(t).then((function(e){Array.isArray(e.results)&&e.results.length>0&&(X(e.results),W(e.results),i(e.count),be(!0)),be(!0)})),(new x.a).getcategory().then((function(e){d(e.results)}))}),[t]),C(l.a.Fragment,null,C(N.a,null,"\u200b",C(y.a,{title:ae,linkTo:ie,linkText:me,show:$,success:ie.length>0,handleClose:function(){return ee(!1)}},C("p",null,oe)),C("div",{className:"row page-header "},C("div",null,C("h1",{className:"page-title"},"My Jobs")),C("div",null,C("input",{id:"printorder",className:"form-control  form-rounded downloadordersearch",type:"text",placeholder:"Search by job title or location",value:F,onChange:function(e){return q(e.target.value)}}))),"\u200b",C("div",{className:"d-flex filtermarketplace",id:"filtersrow"},C("div",{id:"categoryfilter__div"},C("div",{className:"form-group mt-2 filter-dropdown-job "},C("select",{className:"form-control form-rounded",onChange:function(e){return j(e.target.value)}},C("option",{value:""},"Category"),m.map((function(e,t){return C("option",{className:"dropdown-item",key:t,value:e.key},e.title)}))))),C("div",{id:"typefilterdiv"},C("div",{className:"form-group mt-2 filter-dropdown-job"},C("select",{className:"form-control form-rounded",value:h,onChange:function(e){return O(e.target.value)}},C("option",{value:""},"Type"),p.map((function(e){return C("option",{value:e.key,key:e.key},e.name)}))))),C("div",{id:"minpricefilter__div"},C("div",{className:"form-group mt-2 filter-dropdown-job"},C("input",{type:"number",placeholder:"salary minimum value",className:"form-control form-rounded",value:E,onChange:function(e){return L(e.target.value)}}))),C("div",{id:"minpricefilter__div"},C("div",{className:"form-group mt-2 filter-dropdown-job"},C("input",{type:"number",placeholder:"salary maximum value",className:"form-control form-rounded",value:D,onChange:function(e){return z(e.target.value)}}))),"\u200b",C("div",null,C("button",{className:"btn btn-primary mt-2 delete-selected-job",onClick:Object(o.a)(n.a.mark((function e(){var t,a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(U.length>0)){e.next=15;break}ge("Deleting Job(s)","","","Please wait..."),t=JSON.parse(JSON.stringify(R)),a=n.a.mark((function e(a){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new x.a).deletejob(U[a]);case 2:e.sent,t=t.filter((function(e){return e.key!==U[a]}));case 4:case"end":return e.stop()}}),e)})),s=0;case 5:if(!(s<U.length)){e.next=10;break}return e.delegateYield(a(s),"t0",7);case 7:s++,e.next=5;break;case 10:ge("Deleting Job(s)","","Close","Job deleted successfully"),W(t),V([]),e.next=16;break;case 15:ge("Deleting Job(s)","","Close","Select a job or jobs to delete");case 16:case"end":return e.stop()}}),e)})))},"Delete")),"\u200b"),"\u200b","\u200b",C("div",{className:"row mt-3"},fe&&R.length<=0?C("div",{className:"",style:{margin:"auto",marginTop:"50px"}},C("p",{id:"no-products",className:"no-products-found"},"You haven't posted any job(s) yet.")):fe?null:C("div",{className:"",style:{margin:"auto",marginTop:"50px"}},C(w.PropagateLoader,{size:30,color:"#1b98e0",loading:!0})),R.map((function(e,t){return C(v,{key:t,job:e,owner:G,setCheckedList:V,setCheck:ve})}))),"\u200b \u200b",C("div",{className:"row market-pagi",id:"paginate-row"},C("div",{className:"col-md-12 text-right"},C(k.a,{initialPage:parseInt(t.toString())-1,onPageChange:function(e){fe&&je.push("/jobs/businessjobs/?page="+(e.selected+1))},pageCount:s/c,marginPagesDisplayed:1,pageRangeDisplayed:2,containerClassName:"pagination ml-auto row d-flex justify-content-end",previousLabel:"<<Prev",nextLabel:"Next>>",activeLinkClassName:"active",disabledClassName:"pagination_next_prev_dissable"}))),C(_.a,{smooth:!0,color:"#1b98e0"})))}},cANb:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/jobs/businessjobs",function(){return a("BLke")}])},tsWT:function(e,t,a){"use strict";var s=a("q1tI"),n=a.n(s),o=a("YFqc"),r=a.n(o),l=n.a.createElement;t.a=function(e){var t=Object(s.useState)(e.show),a=t[0],o=t[1];return Object(s.useEffect)((function(){o(e.show)}),[e.show]),l("div",{id:"myModal",className:"modal",style:{display:a?"block":"",zIndex:9999}},l("div",{style:{display:a?"block":"",position:"absolute",width:"100%",height:"100%",backgroundColor:"black",opacity:.6}}),l("div",{className:"modal-content",style:{width:"400px",position:"absolute",left:"50%",top:"50%",marginLeft:"-200px",verticalAlign:"middle",padding:"20px",textAlign:"center"}},l("div",{style:{fontWeight:"bold"}}," ",e.children),e.success?l(r.a,{href:e.linkTo},l("a",{className:"btn btn-primary"},e.linkText)):e.linkText.length>0?l("div",{className:"prompt"},l("a",{type:"button",className:"btn btn-primary prompt_btn",onClick:function(){e.handleClose()},style:{fontSize:15}},e.linkText)):l(n.a.Fragment,null)))}}},[["cANb",0,1,6,2,3,4,5,7,13]]]);