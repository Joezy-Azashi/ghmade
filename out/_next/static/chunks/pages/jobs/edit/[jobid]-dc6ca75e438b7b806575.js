_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[56],{"+u7N":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/jobs/edit/[jobid]",function(){return n("hyE0")}])},"4le0":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r}));var o=function(){return"undefined"!==typeof window?window:t},r=function(){var t=o();return t&&t.tinymce?t.tinymce:null}}).call(this,n("yLpj"))},UYf5:function(t,e,n){"use strict";n.d(e,"a",(function(){return C}));var o=n("q1tI"),r=n("17x9"),i=function(){return(i=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a={onActivate:r.func,onAddUndo:r.func,onBeforeAddUndo:r.func,onBeforeExecCommand:r.func,onBeforeGetContent:r.func,onBeforeRenderUI:r.func,onBeforeSetContent:r.func,onBeforePaste:r.func,onBlur:r.func,onChange:r.func,onClearUndos:r.func,onClick:r.func,onContextMenu:r.func,onCopy:r.func,onCut:r.func,onDblclick:r.func,onDeactivate:r.func,onDirty:r.func,onDrag:r.func,onDragDrop:r.func,onDragEnd:r.func,onDragGesture:r.func,onDragOver:r.func,onDrop:r.func,onExecCommand:r.func,onFocus:r.func,onFocusIn:r.func,onFocusOut:r.func,onGetContent:r.func,onHide:r.func,onInit:r.func,onKeyDown:r.func,onKeyPress:r.func,onKeyUp:r.func,onLoadContent:r.func,onMouseDown:r.func,onMouseEnter:r.func,onMouseLeave:r.func,onMouseMove:r.func,onMouseOut:r.func,onMouseOver:r.func,onMouseUp:r.func,onNodeChange:r.func,onObjectResizeStart:r.func,onObjectResized:r.func,onObjectSelected:r.func,onPaste:r.func,onPostProcess:r.func,onPostRender:r.func,onPreProcess:r.func,onProgressState:r.func,onRedo:r.func,onRemove:r.func,onReset:r.func,onSaveContent:r.func,onSelectionChange:r.func,onSetAttrib:r.func,onSetContent:r.func,onShow:r.func,onSubmit:r.func,onUndo:r.func,onVisualAid:r.func},s=i({apiKey:r.string,id:r.string,inline:r.bool,init:r.object,initialValue:r.string,onEditorChange:r.func,outputFormat:r.oneOf(["html","text"]),value:r.string,tagName:r.string,cloudChannel:r.string,plugins:r.oneOfType([r.string,r.array]),toolbar:r.oneOfType([r.string,r.array]),disabled:r.bool,textareaName:r.string,tinymceScriptSrc:r.string,scriptLoading:r.shape({async:r.bool,defer:r.bool,delay:r.number})},a),u=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o},c=function(t){return"function"===typeof t},l=function(t){return t in a},d=function(t){return t.substr(2)},p=function(t,e,n,o){return f(t.on.bind(t),t.off.bind(t),(function(e){return function(n){return e(n,t)}}),e,n,o)},f=function(t,e,n,o,r,i){var a=Object.keys(o).filter(l),s=Object.keys(r).filter(l),c=a.filter((function(t){return void 0===r[t]})),p=s.filter((function(t){return void 0!==o[t]&&o[t]!=r[t]})),f=s.filter((function(t){return void 0===o[t]}));u(c,p).forEach((function(t){var n=d(t),o=i[n];e(n,o),delete i[n]})),u(p,f).forEach((function(e){var o=r[e];if(void 0!==o){var a=d(e),s=n(o);i[a]=s,t(a,s)}}))},b=0,m=function(t){var e=Date.now();return t+"_"+Math.floor(1e9*Math.random())+ ++b+String(e)},h=function(t){return"undefined"===typeof t||""===t?[]:Array.isArray(t)?t:t.split(" ")},y=function(){return{listeners:[],scriptId:m("tiny-script"),scriptLoading:!1,scriptLoaded:!1}},v=function(){var t=y();return{load:function(e,n,o,r,i,a){var s=function(){return function(t,e,n,o,r,i){var a=e.createElement("script");a.referrerPolicy="origin",a.type="application/javascript",a.id=t,a.src=n,a.async=o,a.defer=r;var s=function(){a.removeEventListener("load",s),i()};a.addEventListener("load",s),e.head&&e.head.appendChild(a)}(t.scriptId,e,n,o,r,(function(){t.listeners.forEach((function(t){return t()})),t.scriptLoaded=!0}))};t.scriptLoaded?a():(t.listeners.push(a),t.scriptLoading||(t.scriptLoading=!0,i>0?setTimeout(s,i):s()))},reinitialize:function(){t=y()}}}(),g=n("4le0"),j=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),_=function(){return(_=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},C=function(t){function e(e){var n,r,i,a=t.call(this,e)||this;return a.handleEditorChange=function(t){var e,n=a.editor;if(n){var o=n.getContent({format:a.props.outputFormat});o!==a.currentContent&&(a.currentContent=o,c(a.props.onEditorChange)&&a.props.onEditorChange(null!==(e=a.currentContent)&&void 0!==e?e:"",n))}},a.handleInit=function(t){var e=a.editor;e&&(e.setContent(a.getInitialValue()),e.undoManager.clear(),e.undoManager.add(),e.setDirty(!1),c(a.props.onEditorChange)&&e.on("change keyup setcontent",a.handleEditorChange),c(a.props.onInit)&&a.props.onInit(t,e),p(e,{},a.props,a.boundHandlers))},a.initialise=function(){var t=a.elementRef.current;if(t){var e=Object(g.a)();if(!e)throw new Error("tinymce should have been loaded into global scope");var n,o,r,i=_(_({},a.props.init),{selector:void 0,target:t,readonly:a.props.disabled,inline:a.inline,plugins:(n=a.props.init&&a.props.init.plugins,o=a.props.plugins,h(n).concat(h(o))),toolbar:a.props.toolbar||a.props.init&&a.props.init.toolbar,setup:function(t){a.editor=t,t.on("init",a.handleInit),a.props.init&&c(a.props.init.setup)&&a.props.init.setup(t)}});null!==(r=a.elementRef.current)&&"textarea"===r.tagName.toLowerCase()&&(a.elementRef.current.style.visibility=""),e.init(i)}},a.id=a.props.id||m("tiny-react"),a.elementRef=o.createRef(),a.inline=null!==(i=null!==(n=a.props.inline)&&void 0!==n?n:null===(r=a.props.init)||void 0===r?void 0:r.inline)&&void 0!==i&&i,a.boundHandlers={},a}return j(e,t),e.prototype.componentDidUpdate=function(t){var e,n=this;if(this.editor&&this.editor.initialized){if(p(this.editor,t,this.props,this.boundHandlers),this.currentContent=null!==(e=this.currentContent)&&void 0!==e?e:this.editor.getContent({format:this.props.outputFormat}),"string"===typeof this.props.value&&this.props.value!==t.value&&this.props.value!==this.currentContent){var o=this.editor;o.undoManager.transact((function(){return o.setContent(n.props.value)}))}"boolean"===typeof this.props.disabled&&this.props.disabled!==t.disabled&&this.editor.setMode(this.props.disabled?"readonly":"design")}},e.prototype.componentDidMount=function(){var t,e,n,o,r,i;null!==Object(g.a)()?this.initialise():this.elementRef.current&&this.elementRef.current.ownerDocument&&v.load(this.elementRef.current.ownerDocument,this.getScriptSrc(),null!==(e=null===(t=this.props.scriptLoading)||void 0===t?void 0:t.async)&&void 0!==e&&e,null!==(o=null===(n=this.props.scriptLoading)||void 0===n?void 0:n.defer)&&void 0!==o&&o,null!==(i=null===(r=this.props.scriptLoading)||void 0===r?void 0:r.delay)&&void 0!==i?i:0,this.initialise)},e.prototype.componentWillUnmount=function(){var t=this,e=this.editor;e&&(e.off("init",this.handleInit),e.initialized&&(e.off("change keyup setcontent",this.handleEditorChange),Object.keys(this.boundHandlers).forEach((function(n){e.off(n,t.boundHandlers[n])})),this.boundHandlers={}),e.remove())},e.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},e.prototype.renderInline=function(){var t=this.props.tagName,e=void 0===t?"div":t;return o.createElement(e,{ref:this.elementRef,id:this.id})},e.prototype.renderIframe=function(){return o.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id})},e.prototype.getScriptSrc=function(){if("string"===typeof this.props.tinymceScriptSrc)return this.props.tinymceScriptSrc;var t=this.props.cloudChannel;return"https://cdn.tiny.cloud/1/"+(this.props.apiKey?this.props.apiKey:"no-api-key")+"/tinymce/"+t+"/tinymce.min.js"},e.prototype.getInitialValue=function(){return"string"===typeof this.props.value?this.props.value:"string"===typeof this.props.initialValue?this.props.initialValue:""},e.propTypes=s,e.defaultProps={cloudChannel:"5"},e}(o.Component)},hyE0:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return b}));var o=n("o0o1"),r=n.n(o),i=n("HaE+"),a=n("q1tI"),s=n.n(a),u=n("y4gq"),c=n("TBf0"),l=n("tsWT"),d=n("nOHt"),p=n("UYf5"),f=s.a.createElement;function b(){var t=Object(a.useState)(""),e=t[0],n=t[1],o=Object(a.useState)(""),s=o[0],b=o[1],m=Object(a.useState)(""),h=m[0],y=m[1],v=Object(a.useState)(""),g=v[0],j=v[1],_=Object(a.useState)(""),C=_[0],w=_[1],k=Object(a.useState)(""),O=k[0],S=k[1],x=Object(a.useState)(""),N=x[0],E=x[1],P=Object(a.useState)(""),T=P[0],D=P[1],J=Object(a.useState)([]),I=J[0],L=J[1],A=Object(a.useState)([{key:"FT",value:"Full-Time"},{key:"PT",value:"Part-Time"},{key:"CT",value:"Contract"},{key:"DJ",value:"Daily Job"}])[0],M=Object(a.useState)(""),R=M[0],U=M[1],F=Object(a.useState)(""),z=F[0],W=F[1],q=Object(a.useState)(""),H=q[0],B=q[1],K=Object(a.useState)(!1),V=K[0],G=K[1],Y=Object(a.useState)(""),X=Y[0],Q=Y[1],Z=Object(a.useState)(!1),$=Z[0],tt=Z[1],et=Object(a.useState)((new Date).toString()),nt=et[0],ot=(et[1],Object(d.useRouter)());Object(a.useEffect)((function(){var t=ot.query.jobid;void 0!=t&&null!=t?((new c.d).getjobdetail(t.toString()).then((function(t){n(t.title),S(t.location),D(t.description),E(t.expiry_date),y(t.salary_from),j(t.salary_to),b(t.type),w(t.category.key)})),(new c.d).getcategory().then((function(t){L(t.results)}))):ot.push("/jobs/businessjobs")}),[]);var rt=function(t,e,n,o){G(!0),U(t),Q(n),B(e),W(o)},it=function(){var t=Object(i.a)(r.a.mark((function t(){var n,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==e){t.next=3;break}return rt("Post A Job","","Okay","Please enter a Job title"),t.abrupt("return");case 3:if(!(s.length<=0||"Select Job Type"===s)){t.next=6;break}return rt("Post A Job","","Okay","Please select a Job Type"),t.abrupt("return");case 6:if(!(parseFloat(g)<=parseFloat(h))){t.next=9;break}return rt("Post A Job","","Okay","Please enter minimun salary before maximum"),t.abrupt("return");case 9:if(!(C.length<=0||"Select Category"===C)){t.next=14;break}return rt("Post A Job","","Okay","Please select a Job Category"),t.abrupt("return");case 14:return n=new c.d,t.prev=15,rt("Post A Job","","","Updating job"),t.next=19,n.updatejob({title:e,category:C,expiry_date:N,type:s,description:T,salary_from:h,salary_to:g,location:O},ot.query.jobid.toString());case 19:if(!(o=t.sent).detail){t.next=23;break}return rt("Post A Job","","",o.detail),t.abrupt("return");case 23:if(!o.error.includes("The date cannot be in the past!")){t.next=26;break}return rt("Post A Job","","Okay","Sorry, the expiry date has to be a future date."),t.abrupt("return");case 26:t.next=30;break;case 28:t.prev=28,t.t0=t.catch(15);case 30:tt(!0),rt("Update A Job","/jobs/businessjobs","Close","Job updated successfully");case 32:case"end":return t.stop()}}),t,null,[[15,28]])})));return function(){return t.apply(this,arguments)}}();return f(u.a,null,f(l.a,{title:R,linkTo:H,linkText:X,show:V,success:H.length>0,handleClose:function(){$&&ot.push("/jobs/add_jobpost"),G(!1)}},f("p",null,z)),f("div",{className:"page-header w-100"},f("h1",{className:"page-title"},"Update Job")),f("div",{className:"row justify-content-center"},f("div",{className:"col-md-6 "},f("div",{className:"form-group"},f("label",{style:{fontWeight:"bolder"}},"Job Title ",f("span",{style:{color:"red"}},"*")),f("input",{type:"text",id:"job_title_txt",className:"form-control form-rounded add_job_formleft capitalize-text",placeholder:"eg. Plumber",value:e,required:!0,onChange:function(t){return n(t.target.value)}})),f("div",{className:"form-group"},f("label",{style:{fontWeight:"bolder"}},"Job Type ",f("span",{style:{color:"red"}},"*")),f("select",{id:"job_type_txt",className:"form-control form-rounded add_job_formleft",value:s,onChange:function(t){return b(t.target.value)}},f("option",null,"Select Job Type"),A.map((function(t,e){return f("option",{value:t.key},t.value)})))),f("div",{className:"row justify-content-between"},f("div",{className:"form-group col-md-6"},f("label",{style:{fontWeight:"bolder"}},"Salary Range"),f("input",{type:"number",id:"job_salary1_txt",className:"form-control form-rounded add_job_formleft1",placeholder:"Minimum amount",value:h,onChange:function(t){y(t.target.value)}})),f("div",{className:"form-group col-md-6"},f("input",{type:"number",id:"job_salary2_txt",className:"form-control form-rounded add_job_formleft1",placeholder:"Maximum amount",value:g,onChange:function(t){j(t.target.value)}}))),f("div",{className:"form-group md-6"},f("label",{style:{fontWeight:"bolder"}},"Category ",f("span",{style:{color:"red"}},"*")),f("select",{id:"job_type_txt",className:"form-control form-rounded add_job_formleft",value:C,onChange:function(t){w(t.target.value)}},f("option",null,"Select Category"),I.map((function(t,e){return f("option",{className:"capitalize-text",key:e,value:t.key},t.title)}))))),f("div",{className:"col-md-6"},f("div",{className:"form-group"},f("label",{style:{fontWeight:"bolder"}},"Location ",f("span",{style:{color:"red"}},"*")),f("input",{type:"text",id:"",className:"form-control form-rounded add_job_formright capitalize-text",placeholder:"Location",value:O,onChange:function(t){S(t.target.value)}})),f("div",{className:"form-group"},f("label",{style:{fontWeight:"bolder"}},"Expiry Date"),f("input",{type:"date",id:"job_exdate_txt",className:"form-control form-rounded add_job_formright",placeholder:"29/10/2020",min:nt,value:N,onChange:function(t){E(t.target.value)}})),f("div",{className:"form-group"},f("label",{style:{fontWeight:"bolder"},htmlFor:"form-label"},"Job Description"),f("div",{className:"form-group"},f("div",{className:"input-group-data add_job_formright mt-1",id:"job_description_txt"},f(p.a,{apiKey:"jnq6bu3a3gvvn2nvdtz5e65m7ffttui7jqw5pgo6wvksdzo1",value:T,init:{placeholder:"What's on your mind?",height:200,force_br_newlines:!1,force_p_newlines:!1,forced_root_block:"",branding:!1,menubar:!1,resize:!1,statusbar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code wordcount emoticons link"],toolbar:"  bold  italic | backcolor |  emoticons                                | link | alignleft  aligncenter  alignright  alignjustify | bullist | numlist                                | formatselect "},onEditorChange:function(t){return D(t)}})))))),f("div",{className:"row justify-content-center job_buttons"},f("div",{className:"mr-3"},f("button",{className:"btn btn-primary btn-block addjob_save_btn mb-1 mt-5",id:"job_save_btn",onClick:function(){return it()}},"Update Job")),f("div",null,f("button",{className:"btn btn-primary btn-block addjob_cancel_btn mb-1 mt-5",id:"job_cancel_btn",onClick:function(){return ot.push("/jobs/businessjobs")}},"Cancel"))))}},tsWT:function(t,e,n){"use strict";var o=n("q1tI"),r=n.n(o),i=n("YFqc"),a=n.n(i),s=r.a.createElement;e.a=function(t){var e=Object(o.useState)(t.show),n=e[0],i=e[1];return Object(o.useEffect)((function(){i(t.show)}),[t.show]),s("div",{id:"myModal",className:"modal",style:{display:n?"block":"",zIndex:9999}},s("div",{style:{display:n?"block":"",position:"absolute",width:"100%",height:"100%",backgroundColor:"black",opacity:.6}}),s("div",{className:"modal-content",style:{width:"400px",position:"absolute",left:"50%",top:"50%",marginLeft:"-200px",verticalAlign:"middle",padding:"20px",textAlign:"center"}},s("div",{style:{fontWeight:"bold"}}," ",t.children),t.success?s(a.a,{href:t.linkTo},s("a",{className:"btn btn-primary"},t.linkText)):t.linkText.length>0?s("div",{className:"prompt"},s("a",{type:"button",className:"btn btn-primary prompt_btn",onClick:function(){t.handleClose()},style:{fontSize:15}},t.linkText)):s(r.a.Fragment,null)))}},yLpj:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(o){"object"===typeof window&&(n=window)}t.exports=n}},[["+u7N",0,1,2,3]]]);