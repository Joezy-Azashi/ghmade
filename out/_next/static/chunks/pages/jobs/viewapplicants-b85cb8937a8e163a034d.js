_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[58],{Ebon:function(e,a,t){"use strict";t.r(a),t.d(a,"__N_SSP",(function(){return _})),t.d(a,"default",(function(){return P}));var s=t("KQm4"),n=t("MX0m"),l=t.n(n),r=t("q1tI"),i=t.n(r),o=t("I+5a"),c=t.n(o),m=i.a.createElement,d=function(e){var a=e.applicant,t=e.setPDFLink;return m("div",{className:"row",style:{marginTop:"-20px"}},m("div",{className:"col-md-12"},m("div",{className:"card card-hover"},m("div",{className:"card-body"},m("div",{className:"row"},m("div",{className:"col-md-4"},m("div",{className:"media mt-0"},m("figure",{className:"rounded-circle align-self-start mb-0"},m("img",{src:"".concat("/api","/").concat(a.image),alt:"Generic placeholder image",className:"avatar brround avatar-md mr-3"})),m("div",{className:"media-body mb-2"},m("h4",{className:"font-weight-semibold leading-normal"},a.user.first_name||a.user.last_name?a.user.first_name+" "+a.user.last_name:"No Name"),m("i",{className:"fe fe-mail fa-lg"}),m("span",{className:"ml-2",style:{fontWeight:600}},a.email?m("a",{style:{color:"inherit"},href:"mailto:".concat(a.email)},a.email):"Not provided")," ",m("br",null),m("i",{className:"fe fe-phone fa-lg"}),m("a",{style:{color:"inherit"},href:"tel:".concat(a.user.phone_number)},m("span",{className:"ml-2",style:{fontWeight:600}},a.user.phone_number))))),m("div",{className:"col-md-4 title-viewapplicants"},m("div",{className:"media mt-0"},m("div",{className:"media-body"},m("h4",{className:"font-weight-bold leading-normal"},"Job Title"),m("span",{className:"capitalize-text",style:{fontWeight:600}},a.job.title)," ",m("br",null)))),m("div",{className:"col-md-3 title-viewapplicants"},m("div",{className:"media mt-0"},m("div",{className:"media-body"},m("h4",{className:"font-weight-bold leading-normal"},"View CV"),m("span",{style:{fontWeight:600}},a.cv?m("a",{href:"#","data-toggle":"modal","data-target":"#exampleModal",onClick:function(){return t(a.cv)}},m("i",{className:"fe fe-file-text fa-lg mr-2"}),a.cv.substring(a.cv.lastIndexOf("/")+1)):"No CV attached")))),m("div",{className:"col-md-1title-viewapplicants"}))))))},u=t("y4gq"),p=t("o0o1"),f=t.n(p),g=t("HaE+"),b=t("1OyB"),v=t("vuIU"),N=t("sJhw"),j=function(){function e(){Object(b.a)(this,e)}return Object(v.a)(e,[{key:"getapplicants",value:function(){var e=Object(g.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(parseInt(a)<=1)){e.next=6;break}return e.next=3,Object(N.a)("/jobportal/applicant/owner-job-list");case 3:return e.abrupt("return",e.sent);case 6:return e.next=8,Object(N.a)("/jobportal/applicant/owner-job-list?page="+a);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()}]),e}(),x=t("nOHt"),h=t("Nm0s"),w=t("MXb5"),y=t.n(w),O=i.a.createElement,_=!0;function P(e){var a=e.currentPage,t=Object(r.useState)([]),n=t[0],o=t[1],m=Object(r.useState)([]),p=m[0],f=m[1],g=Object(r.useRef)(null),b=Object(r.useState)(null),v=b[0],N=b[1],w=Object(r.useState)([]),_=w[0],P=w[1],S=Object(r.useState)(1),k=S[0],C=S[1],E=Object(r.useState)(1),L=E[0],J=E[1],D=Object(r.useState)(!1),I=D[0],A=D[1],F=Object(r.useState)(0),B=F[0],T=F[1],z=Object(r.useState)(32)[0],M=Object(x.useRouter)(),V=Object(r.useState)({pdf:null,currentPage:1,zoom:1.5}),q=V[0],R=V[1],W=function(){q.pdf.getPage(q.currentPage).then((function(e){var a=document.getElementById("pdf_renderer"),t=a.getContext("2d"),s=e.getViewport({scale:1.6});a.width=900,a.style.width="1083px",a.height=s.height,e.render({canvasContext:t,viewport:s})}))};return Object(r.useEffect)((function(){q.pdf&&W()}),[q]),Object(r.useEffect)((function(){v&&window.pdfjsLib.getDocument(v).promise.then((function(e){R({pdf:e,currentPage:1,scale:1}),J(e.numPages)}))}),[v]),Object(r.useEffect)((function(){(new j).getapplicants(a).then((function(e){var a=e.results;if(Array.isArray(e.results)){var t=new Set(a.map((function(e){return e.job.title}))),n=Object(s.a)(t);f(e.results),o(e.results),T(e.count),P(n)}A(!0)}))}),[a]),O(i.a.Fragment,null,O(u.a,null,O("div",{className:"jsx-564244468"},O("div",{className:"jsx-564244468 page-header"},O("h1",{className:"jsx-564244468 page-title"},"Job Applicants"),O("div",{className:"jsx-564244468 ml-auto mt-5"},O("div",{className:"jsx-564244468 row"},O("div",{className:"jsx-564244468 col-md-6"},O("div",{className:"jsx-564244468 form-group"},O("select",{"data-placeholder":"Filter",onChange:function(e){var a=JSON.parse(JSON.stringify(p));"All"!==e.target.value&&""!==e.target.value&&(a=a.filter((function(a){return a.job.title===e.target.value}))),o(a),T(a.length)},className:"jsx-564244468 form-control form-rounded viewapplicant-filter"},O("option",{value:"",label:"Filter",className:"jsx-564244468"},"Filter"),O("option",{value:"All",className:"jsx-564244468"},"All"),_.map((function(e,a){return O("option",{key:a,value:e,className:"jsx-564244468"},e)}))))),O("div",{className:"jsx-564244468 col-md-6"},O("div",{className:"jsx-564244468 form-group"},O("select",{"data-placeholder":"Sort By",onChange:function(e){var a=JSON.parse(JSON.stringify(n));1==e.target.value?a.sort((function(e,a){return a.timestamp.localeCompare(e.timestamp)})):a.sort((function(e,a){return e.timestamp.localeCompare(a.timestamp)})),o(a)},className:"jsx-564244468 form-control form-rounded viewapplicant-filter"},O("option",{label:"Sort By",className:"jsx-564244468"},"Sort By"),O("option",{value:1,className:"jsx-564244468"},"Date applied: Latest"),O("option",{value:2,className:"jsx-564244468"},"Date applied: Earliest"))))))),I&&B<=0?O("p",{id:"no-products",className:"jsx-564244468 no-products-found row justify-content-center"},"No applicants has applied for job(s) currently."):I?null:O("div",{style:{marginTop:"50px"},className:"jsx-564244468 row justify-content-center"},O(h.PropagateLoader,{size:30,color:"#1b98e0",loading:!0})),n.map((function(e,a){return O(d,{applicant:e,setPDFLink:N,key:a})})),n.length>0?O("div",{style:{margin:"10px"},className:"jsx-564244468 row"},O("div",{className:"jsx-564244468 col-md-12 text-right"},O(c.a,{initialPage:parseInt(a.toString())-1,onPageChange:function(e){I&&M.push("/jobs/viewapplicants/?page="+(e.selected+1))},pageCount:B/z,marginPagesDisplayed:1,pageRangeDisplayed:2,containerClassName:"pagination ml-auto row d-flex justify-content-end",previousLabel:"<<Prev",nextLabel:"Next>>",activeLinkClassName:"active",disabledClassName:"pagination_next_prev_dissable"}))):null),O("div",{className:"jsx-564244468"},O("div",{id:"exampleModal",tabIndex:-1,role:"dialog","data-backdrop":"static","data-keyboard":"false","aria-labelledby":"exampleModalLabel","aria-hidden":"true",style:{paddingBottom:"120px"},className:"jsx-564244468 modal fade"},O("div",{className:"jsx-564244468"},O("a",{href:v,download:!0,target:"_blank",className:"jsx-564244468 btn btn-lg btn-primary downloadbtn"},"Download CV"),O("a",{href:"#",className:"jsx-564244468"},O("i",{"data-dismiss":"modal",style:{top:"11%",right:"10%",position:"absolute",margin:"0 auto",color:"#ffffff"},className:"jsx-564244468 fe fe-x fa-lg fa-3x"}))),O("div",{className:"jsx-564244468 card appcv cvoverlay"},O("div",{style:{textAlign:"center"},className:"jsx-564244468 mt-2"},O("button",{style:{width:"50px"},onClick:function(){1!=k&&(q.currentPage-=1,C(q.currentPage),W())},className:"jsx-564244468 btn btn-square btn-warning ml-2 mr-2"},"-"),O("span",{style:{color:"black"},className:"jsx-564244468"},"Page ",k," 0f ",L),O("button",{style:{width:"50px"},onClick:function(){q.currentPage!=L&&(q.currentPage+=1,C(q.currentPage),W())},className:"jsx-564244468 btn btn-square btn-warning mr-2 ml-2"},"+")),O("div",{ref:g,className:"jsx-564244468 modal-dialog m-0 p-0"},O("canvas",{id:"pdf_renderer",className:"jsx-564244468 cvmodal"}))))),O(l.a,{id:"564244468"},['.pdfviewer.jsx-564244468{width:1024px;background:#333;border:3px solid;borderRadius:0, top:"24%", height:"50%", marginTop:"20px",;}']),O(y.a,{smooth:!0,color:"#1b98e0"})))}},yLpj:function(e,a){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(s){"object"===typeof window&&(t=window)}e.exports=t},z2a6:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/jobs/viewapplicants",function(){return t("Ebon")}])}},[["z2a6",0,1,2,3,4,13]]]);