_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[47],{"25BE":function(e,t,n){"use strict";function a(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return a}))},"4le0":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=function(){return"undefined"!==typeof window?window:e},o=function(){var e=a();return e&&e.tinymce?e.tinymce:null}}).call(this,n("yLpj"))},BsWD:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("a3WO");function o(e,t){if(e){if("string"===typeof e)return Object(a.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(a.a)(e,t):void 0}}},KQm4:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("a3WO");var o=n("25BE"),r=n("BsWD");function s(e){return function(e){if(Array.isArray(e))return Object(a.a)(e)}(e)||Object(o.a)(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},LQ4i:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/forum/forum",function(){return n("Rofi")}])},MXb5:function(e,t,n){"use strict";var a,o=n("q1tI"),r=(a=o)&&"object"===typeof a&&"default"in a?a.default:a,s=function(){return(s=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var i="styles_scroll-to-top__2A70v";!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var a=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&a.firstChild?a.insertBefore(o,a.firstChild):a.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".styles_scroll-to-top__2A70v {\n    background-color: white;\n    right: 40px;\n    bottom: 40px;\n    position: fixed;\n    z-index: 2;\n    cursor: pointer;\n    border-radius: 7px;\n    width: 40px;\n    height: 40px;\n    transition: opacity 1s ease-in-out;\n    box-shadow: 0 9px 25px 0 rgba(132,128,177,0.28);\n    border: none;\n    outline: none;\n}\n\n.styles_scroll-to-top__2A70v:active {\n    transform: matrix(0.95, 0, 0, 0.95, 0, 0);\n}\n");e.exports=function(e){var t=e.top,n=void 0===t?20:t,a=e.className,c=void 0===a?i:a,l=e.color,u=void 0===l?"black":l,d=e.smooth,m=void 0!==d&&d,p=e.component,f=void 0===p?"":p,v=e.viewBox,b=void 0===v?"0 0 256 256":v,g=e.svgPath,h=void 0===g?"M222.138,91.475l-89.6-89.6c-2.5-2.5-6.551-2.5-9.051,0l-89.6,89.6c-2.5,2.5-2.5,6.551,0,9.051s6.744,2.5,9.244,0L122,21.85  V249.6c0,3.535,2.466,6.4,6,6.4s6-2.865,6-6.4V21.85l78.881,78.676c1.25,1.25,2.992,1.875,4.629,1.875s3.326-0.625,4.576-1.875  C224.586,98.025,224.638,93.975,222.138,91.475z":g,y=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n}(e,["top","className","color","smooth","component","viewBox","svgPath"]),O=o.useState(!1),w=O[0],N=O[1];o.useEffect((function(){return document.addEventListener("scroll",x),function(){return document.removeEventListener("scroll",x)}}),[]);var x=function(){N(document.documentElement.scrollTop>n)};return r.createElement(r.Fragment,null,w&&r.createElement("button",s({className:c,onClick:function(){return function(e){void 0===e&&(e=!1),e?window.scrollTo({top:0,behavior:"smooth"}):document.documentElement.scrollTop=0}(m)}},y),f||r.createElement("svg",{fill:u,viewBox:b},r.createElement("path",{d:h}))))}},Rofi:function(e,t,n){"use strict";n.r(t);var a=n("o0o1"),o=n.n(a),r=n("HaE+"),s=n("q1tI"),i=n.n(s),c=n("rePB"),l=n("wd/R"),u=n.n(l),d=n("vxoU"),m=i.a.createElement;var p=function(e){var t=e.comment,n=e.deleteComment,a=e.findItem,c=(e.isLoggedIn,Object(s.useState)(null)),l=c[0],p=c[1];return Object(s.useEffect)((function(){Object(r.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==(t=JSON.parse(window.localStorage.getItem("cp-a")).user).is_organization){e.next=8;break}return e.next=4,(new d.a).getUserProfile();case 4:(n=e.sent).id&&p(n.user.id),e.next=13;break;case 8:if(!0!==t.is_organization){e.next=13;break}return e.next=11,(new d.a).getBusinessProfile();case 11:(a=e.sent).id&&p(a.user.id);case 13:case"end":return e.stop()}}),e)})))()}),[]),m(i.a.Fragment,null,m("div",{className:"row horizontal-line-top"}),m("div",{className:""},m("div",{className:"mt-4 d-flex justify-content-between "},m("div",{className:" d-flex mb-2"},m("img",{src:t.owner_image?"".concat("/api")+t.owner_image:"/assets/images/Profile_Icon.png",className:"business-image-partnershipDetail",alt:""}),m("div",{className:"ml-2"},m("strong",null,t.owner_name?t.owner_name:"No name"))),t.owner===l?m("div",{className:"dropdown ml-2 mt-2"},m("a",{className:"nav-link pr-0 leading-none d-flex","data-toggle":"dropdown",href:"#"},m("i",{className:"fe fe-more-vertical"})),m("div",{className:"dropdown-menu dropdown-menu-right profiledrop"},m("a",{onClick:function(){return a(t.key)},className:"dropdown-item itemname",href:"#forumComment"},m("i",{className:"dropdown-icon fe fe-edit"}),"Edit"),m("a",{onClick:function(){return n(t.key)},className:"dropdown-item itemname",href:"#"},m("i",{className:"dropdown-icon fe fe-trash-2"}),"Delete"))):null),m("div",{className:"text-small-comment"},u()(t.timestamp).format("Do MMM YY, h:mm a")),m("div",{className:""},m("p",{className:"comment-body"},t.body))))},f=n("LSso"),v=n("4X1m"),b=n("tsWT"),g=i.a.createElement;function h(e){var t=e.post,n=e.setCommentCount,a=(e.setPostComments,e.postComments,Object(s.useContext)(v.b)),i=(a.state,a.dispatch),c=Object(s.useState)(""),l=c[0],u=c[1],d=Object(s.useState)(""),m=d[0],p=d[1],h=Object(s.useState)(""),y=h[0],O=h[1],w=Object(s.useState)(""),N=w[0],x=w[1],k=Object(s.useState)(""),S=k[0],j=k[1],P=Object(s.useState)(!1),_=P[0],E=P[1],C=function(e,t,n,a){E(!0),p(e),j(n),x(t),O(a)};return g("form",{className:"ml-3 mt-3 d-flex",onSubmit:function(){var e=Object(r.a)(o.a.mark((function e(a){var r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r={parent:t.key,body:l},e.prev=2,e.next=5,(new f.a).createPost(r);case 5:if(s=e.sent,i({type:"UPDATE_FORUM_COMMENT",payload:t.comments}),i({type:"ADD_FORUM_COMMENT",payload:s}),!s.body.includes("This field may not be blank.")){e.next=10;break}return e.abrupt("return");case 10:u(""),n(t.comments.length),e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(2),C("Add Comment","","Close","Sorry, an error occured"),e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}()},g(b.a,{title:m,linkTo:N,linkText:S,show:_,success:N.length>0,handleClose:function(){E(!1)}},g("p",null,y)),g("input",{type:"text",className:"form-control form-rounded comment-input mr-3",value:l,onChange:function(e){return u(e.target.value)}}),g("button",{className:"btn btn-primary form-control comment-button",type:"submit"},"Comment"),g("button",{className:"btn btn-primary form-control send-button-icon",style:{height:"40px"}},g("i",{className:"fe fe-send"})))}var y=n("LG3E"),O=n.n(y),w=n("YFqc"),N=n.n(w),x=i.a.createElement,k=function(e){var t=Object(s.useState)(e.show),n=t[0],a=t[1];return Object(s.useEffect)((function(){a(e.show)}),[e.show]),x("div",{id:"myModal",className:"modal",style:{display:n?"block":"",zIndex:9999}},x("div",{style:{display:n?"block":"",position:"absolute",width:"100%",height:"100%",backgroundColor:"black",opacity:.6}}),x("div",{className:"modal-content",style:{width:"400px",position:"absolute",left:"50%",top:"50%",marginLeft:"-200px",verticalAlign:"middle",padding:"20px",textAlign:"center"}},x("div",{style:{fontWeight:"bold"}}," ",e.children),e.success?x(N.a,{href:e.linkTo},x("a",{className:"btn btn-primary"},e.linkText)):e.linkText.length>0||e.linkTextAlt.length>0?x("div",{className:"prompt confirm_btns"},x("a",{type:"button",className:"btn btn-primary confirmprompt_btn",onClick:function(){e.handleSuccess()},style:{fontSize:15}},e.linkText),x("a",{type:"button",className:"btn btn-primary confirmprompt_btn",onClick:function(){e.handleClose()},style:{fontSize:15}},e.linkTextAlt)):x(i.a.Fragment,null)))},S=n("fhwx"),j=n.n(S),P=i.a.createElement;var _=function(e){var t=e.editComment,n=e.setEditComment,a=e.post,i=Object(s.useState)(a&a.comments?a.comments.body:[]),c=i[0],l=i[1],u=Object(s.useContext)(v.b),d=(u.state,u.dispatch),m=Object(s.useState)(""),p=m[0],g=m[1],h=Object(s.useState)(""),y=h[0],O=h[1],w=Object(s.useState)(""),N=w[0],x=w[1],k=Object(s.useState)(""),S=k[0],j=k[1],_=Object(s.useState)(!1),E=_[0],C=_[1],T=function(e,t,n,a){C(!0),g(e),j(n),x(t),O(a)};Object(s.useEffect)((function(){l(null!==t?t.body:"")}),[t]);var I=function(){var e=Object(r.a)(o.a.mark((function e(){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(""),e.next=4,(new f.a).updateForumPost(t.key,{body:c});case 4:e.sent&&(n(null),r=a.comments.findIndex((function(e){return e.key===t.key})),a.comments[r].body=c,d({type:"UPDATE_FORUM_COMMENT",payload:a.comments})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),T("Update Comment","","Close","Sorry, an error occured");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return P("form",{className:"ml-3 mt-3 d-flex"},P(b.a,{title:p,linkTo:N,linkText:S,show:E,success:N.length>0,handleClose:function(){C(!1)}},P("p",null,y)),P("input",{type:"text",className:"form-control form-rounded comment-input mr-3",name:"",id:"",value:c,onChange:function(e){return l(e.target.value)}}),P("button",{className:"btn btn-primary form-control comment-button",onClick:I},"Update"))},E=i.a.createElement;function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e){var t=e.post,n=e.showBtns,a=e.setAllPosts,i=e.posts,c=e.setCurrentPost,l=(e.setEdit,Object(s.useState)(t.comments)),m=l[0],b=l[1],g=Object(s.useState)(),y=g[0],w=g[1],N=Object(s.useState)(),x=(N[0],N[1]),S=Object(s.useState)(!1),P=(S[0],S[1]),C=Object(s.useState)("#3f3d56"),I=C[0],D=C[1],U=Object(s.useState)("red"),A=U[0],M=U[1],F=Object(s.useState)(null),R=F[0],L=F[1],B=Object(s.useState)(""),z=B[0],q=B[1],H=Object(s.useState)(""),J=H[0],W=H[1],K=Object(s.useState)(""),V=K[0],Y=K[1],G=Object(s.useState)(""),Q=G[0],X=G[1],$=Object(s.useState)(""),Z=$[0],ee=$[1],te=Object(s.useState)(!1),ne=te[0],ae=te[1],oe=Object(s.useContext)(v.b),re=oe.state,se=oe.dispatch,ie=Object(s.useState)({}),ce=ie[0],le=ie[1],ue=Object(s.useState)({}),de=ue[0],me=ue[1],pe=Object(s.useState)(t.comment_count),fe=pe[0],ve=pe[1],be=function(e,t,n,a,o){ae(!0),q(e),X(n),ee(a),Y(t),W(o)};Object(s.useEffect)((function(){1==t.user_vote?(D("#1B98E0"),M("red")):0==t.user_vote?(M("red"),D("#68667A")):(M(""),D(""))}),[]),Object(s.useEffect)((function(){Object(r.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==(t=JSON.parse(window.localStorage.getItem("cp-a")).user).is_organization){e.next=8;break}return e.next=4,(new d.a).getUserProfile();case 4:n=e.sent,le(n),e.next=13;break;case 8:if(!0!==t.is_organization){e.next=13;break}return e.next=11,(new d.a).getBusinessProfile();case 11:a=e.sent,me(a);case 13:case"end":return e.stop()}}),e)})))()}),[]),Object(s.useEffect)((function(){window.localStorage.getItem("cp-a")&&P(!0);window.localStorage.getItem("cart_id");var e=JSON.parse(window.localStorage.getItem("user-profile"));x(e);var t=window.localStorage.getItem("cp-a");t=JSON.parse(t),w(!!t)}),[]);var ge=function(){var e=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:be("Forum Post","","Yes","No","Are you sure you want to delete this?");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(r.a)(o.a.mark((function e(){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae(!1),e.next=3,(new f.a).deleteForumPosts(t.key);case 3:n=e.sent,console.log(n),r=i.filter((function(e){return e.key!=t.key})),a(r),se({type:"UPDATE_FORUM_POSTS",payload:r});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=Object(r.a)(o.a.mark((function e(){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=t.user_vote){e.next=2;break}return e.abrupt("return");case 2:return n=re.posts,a={post:t.key,is_upvote:!0},e.next=6,(new f.a).votePost(a);case 6:e.sent.msg&&(0==t.user_vote&&(t=T(T({},t),{},{downvote_count:t.downvote_count>0?t.downvote_count-1:0})),t=T(T({},t),{},{upvote_count:t.upvote_count+1}),t=T(T({},t),{},{user_vote:!0}),-1!==(r=n.findIndex((function(e){return e.key===t.key})))&&(n[r]=t),se({type:"UPDATE_FORUM_POSTS",payload:n}),D("#1B98E0"),M("#68667A"));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(r.a)(o.a.mark((function e(){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=t.user_vote){e.next=2;break}return e.abrupt("return");case 2:return n=re.posts,a={post:t.key,is_upvote:!1},e.next=6,(new f.a).votePost(a);case 6:e.sent.msg&&(1==t.user_vote&&(t=T(T({},t),{},{upvote_count:t.upvote_count>0?t.upvote_count-1:0})),t=T(T({},t),{},{downvote_count:t.downvote_count+1}),t=T(T({},t),{},{user_vote:!1}),-1!==(r=n.findIndex((function(e){return e.key===t.key})))&&(n[r]=t),se({type:"UPDATE_FORUM_POSTS",payload:n}),M("red"),D("#68667A"));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=Object(r.a)(o.a.mark((function e(n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(new f.a).deleteForumPost(n);case 3:a=e.sent,t.comments.splice(t.comments.findIndex((function(e){return e.key===n})),1),a&&(se({type:"UPDATE_FORUM_COMMENT",payload:t.comments}),ve(t.comments.length)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error deleting"),console.log("post",t);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Ne=function(e){var n=t.comments.find((function(t){return t.key===e}));L(n)};return E("div",null,E(k,{title:z,linkTo:V,linkText:Q,linkTextAlt:Z,show:ne,success:V.length>0,handleClose:function(){ae(!1)},handleSuccess:he},E("p",null,J)),E("div",{id:"accordion"},E("div",{className:"card viewforum-card"},E("div",{className:"",id:"headingOne"},E("div",{className:"mb-0"},E("div",{className:"row mt-3"},E("div",{className:"col-8 d-flex"},E("div",null,E("img",{className:"avatar avatar-md brround cover-image ml-1",src:t.owner_image?"".concat("/api")+t.owner_image:"/assets/images/Profile_Icon.png",alt:""})),E("div",{className:"mt-2"},E("h5",{className:"ml-2"},E("strong",null,t.owner_name?t.owner_name:"No name")))),n?E("div",{className:"col-4 d-flex"},E("div",{className:"mr-2",onClick:function(){var e=[];t.categories.map((function(t){return e.push(t.key?t.key:t)}));var n=T(T({},t),{},{categories:e});n&&(se({type:"UPDATE_CURRENT_POST",payload:n}),se({type:"UPDATE_FORUM_POST_EDIT",payload:!0})),c(n)}},E("a",{"data-toggle":"modal","data-target":"#exampleModalCenter"},E("h6",{className:"ml-2 mt-2"},E("strong",null,"Edit")))),E("div",null,E("h6",{className:"mt-2",onClick:ge},E("strong",null,"Delete")))):""),E("div",{className:"row ml-6"},E("div",null,E("span",{className:"ml-4 d-flex fe fe-map-pin mr-4"},E("h6",{className:" text-small ml-2"},t.owner_location?t.owner_location:"Not Specified"))),E("div",null,E("span",{className:"ml-2 d-flex fe fe-clock"},E("h6",{className:" text-small ml-2"},u()(t.timestamp).format("Do MMM YY, h:mma"))))),E("div",{className:"row mt-4 forum-post-topic"},E("h5",null,E("strong",null,t.title))),E("div",{className:"row mb-2 ml-5 mr-2"},E(O.a,{lines:3,less:"Read less",more:"Read more",expanded:!1,width:540},E("div",{className:"bulletpoint"},j()(t.body)))),E("div",{className:"horizontal-line-top pt-2 pb-2 d-flex"},y?E("div",{onClick:ye,style:{color:I}},E("i",{className:"fe fe-thumbs-up ml-2 mr-2 thumbs-up-forum"}),E("span",{className:"mr-1 upvote-text"},"Upvote"),E("span",{className:""},t.upvote_count)):"",y?E("div",{onClick:Oe,style:{color:A}},E("i",{className:"fe fe-thumbs-down ml-3 mr-2 thumbs-up-forum"}),E("span",{className:"mr-1 downvote-text"},"Downvote"),E("span",{className:""},t.downvote_count)):"",E("a",{className:"ml-5 ","data-toggle":"collapse","data-target":"#collapse".concat(t.key),"aria-expanded":"true","aria-controls":"collapseOne"},E("i",{className:"fe fe-message-square mr-2 message-forum"}),E("span",{className:"mr-2"},"Comment"),E("span",{className:""},fe))),E("div",{id:"collapse".concat(t.key),className:"collapse","aria-labelledby":"headingOne","data-parent":"#accordion"},y?E("div",{className:"row mt-3 mb-3"},E("div",null,E("img",{className:"avatar avatar-md brround cover-image ml-3 mt-2",src:ce.image?ce.image:de.image?de.image:"/assets/images/Profile_Icon.png",alt:""})),R?E(_,{editComment:R,setEditComment:L,post:t}):E(h,{post:t,setCommentCount:ve,setPostComments:b,postComments:m}),E("div",{className:"horizontal-line-top"})):""),E("div",{id:"collapse".concat(t.key),className:"collapse","aria-labelledby":"headingOne","data-parent":"#accordion"},E("div",{className:"card-body comments-content ml-3"},m?m.map((function(e,t){return E(p,{comment:e,key:t,deleteComment:we,findItem:Ne,isLoggedIn:y})})):null)))))))},D=n("KQm4"),U=n("UYf5"),A=i.a.createElement;function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=function(e){var t=e.posts,n=(e.setAllPosts,e.allcategories),a=e.post,i=void 0===a?null:a,c=(e.edit,e.setEdit,Object(s.useContext)(v.b)),l=c.state,u=c.dispatch,d=Object(s.useState)(""),m=d[0],p=d[1],b=Object(s.useState)(""),g=b[0],h=b[1],y=Object(s.useState)([]),O=y[0],w=y[1],N=function(e){var t=F({},l.currentPost),n=l.forumPostEdit?Object(D.a)(t.categories):O;e.target.checked?n.includes(e.target.value)||n.push(e.target.value):n=n.filter((function(t){return t!=e.target.value})),w(Object(D.a)(n)),t=F(F({},t),{},{categories:n}),x(t)},x=function(e){u({type:"UPDATE_CURRENT_POST",payload:e})},k=function(){var e=Object(r.a)(o.a.mark((function e(n){var a,r,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),a={title:m||(l.forumPostEdit?l.currentPost.title:""),body:g||(l.forumPostEdit?l.currentPost.description:""),categories:O.length>0?O:l.forumPostEdit?l.currentPost.categories:[]},l.forumPostEdit){e.next=9;break}return e.next=5,(new f.a).createPost(a);case 5:(r=e.sent)&&(t.unshift(r),u({type:"UPDATE_FORUM_POSTS",payload:t}),w([]),p(""),h(""),u({type:"UPDATE_FORUM_POST_EDIT",payload:!1})),e.next=13;break;case 9:return e.next=11,(new f.a).editPost(a,i.key);case 11:(s=e.sent)&&(-1!==(c=t.findIndex((function(e){return e.key===i.key})))&&(t[c]=s),u({type:"UPDATE_FORUM_POSTS",payload:t}),w([]),p(""),h(""),u({type:"UPDATE_FORUM_POST_EDIT",payload:!1}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return A("div",null,A("div",{className:"modal fade",id:"exampleModalCenter",tabIndex:-1,role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},A("div",{className:"modal-dialog modal-lg modal-dialog-centered",role:"document"},A("div",{className:"modal-content modalforum-size"},A("div",{className:"modal-header"},A("h5",{className:"modal-title headerText",id:"exampleModalLongTitle"},l.forumPostEdit?"Edit ".concat(l.currentPost.title):"New Topic"),A("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){l.forumPostEdit&&(w([]),p(""),h(""),u({type:"UPDATE_FORUM_POST_EDIT",payload:!1}))}},A("span",{"aria-hidden":"true"},"\xd7"))),A("div",{className:"modal-body"},A("form",null,A("div",{className:"form-group"},A("label",{htmlFor:"exampleInputEmail1",className:"headerText"},"Topic Title"),A("input",{value:l.forumPostEdit?l.currentPost.title:m,type:"text",className:"form-control",name:"addForumTopic",id:"addForumTopic",onChange:function(e){return t=e.target.value,p(t),void x(F(F({},l.currentPost),{},{title:t}));var t}}),A("small",{id:"emailHelp",className:"form-text text-muted"},"The topic must contain a maximum of 60 caracters")),A("div",{className:"form-group headerText headerText"},A("div",null,A("label",{htmlFor:"exampleFormControlTextarea1",className:"headerText"},"Description"),A(U.a,{apiKey:"jnq6bu3a3gvvn2nvdtz5e65m7ffttui7jqw5pgo6wvksdzo1",value:l.forumPostEdit?l.currentPost.body:g,init:{placeholder:"What's on your mind?",height:150,force_br_newlines:!1,force_p_newlines:!1,forced_root_blocks:!1,branding:!1,menubar:!1,resize:!1,statusbar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code wordcount emoticons"],toolbar:"bold italic|                                 emoticons"},onEditorChange:function(e){return h(e)}}))),A("div",{className:"form-check row p-0"},A("label",{className:"headerText pl-3 row category_header"},"Add Category"),A("div",{className:"forum_categorys pt-0 row pl-4 pr-6 pb-3"},n&&n.length>0?n.map((function(e,t){var n;return n=!!(l.forumPostEdit?l.currentPost.categories:O).includes(e.key),A("div",{className:"category col-md-2",key:t},A("input",{type:"checkbox","aria-label":"Checkbox for following text input",className:"mt-2 mr-1 forumcategory-text",key:e.key,id:e.key,value:e.key,onChange:N,checked:n}),A("label",{className:"forumtextfield"},e.title))})):A("p",null,"No Categories Found")),A("div",{className:""},A("form",null,A("div",{className:"multiselect"},A("div",{className:"selectBox",onClick:function(){return function(){var e=document.getElementById("checkboxes");L?(e.style.display="none",L=!1):(e.style.display="block",L=!0)}()}},A("select",null,A("option",null,"Add Category")),A("div",{className:"overSelect"})),A("div",{id:"checkboxes"},n&&n.length>0?n.map((function(e,t){var n;return n=!!(l.forumPostEdit?l.currentPost.categories:O).includes(e.key),A("label",{htmlFor:t.toString(),key:t},A("input",{type:"checkbox",className:"mr-2 mt-1 ml-2",key:e.key,id:e.key,value:e.key,checked:n,onChange:N}),e.title)})):A("p",null,"No Categories Found")))))),A("div",{className:"row forumpost_btn"},A("button",{"data-dismiss":"modal",type:"submit",className:"btn btn-primary forum_post_btn",onClick:k},"Post"))))))))},L=!1;var B=i.a.createElement,z=function(e){e.handleList;var t=e.allcategories,n=e.filterPosts,a=e.selectedcategories,o=e.getAllPosts,r=e.getUserPosts;return B("div",null,B("div",{onClick:function(){return function(){var e=document.getElementById("closeicon");e.style.display="block"==e.style.display?"none":"block"}()}},B("i",{className:"fa fa-chevron-circle-right openiconforum mr-5",id:"openicon",onClick:function(){return document.getElementById("mySidenav").style.width="210px",document.getElementById("forum-middle").style.marginLeft="220px",void(document.getElementById("openicon").style.display="none")}})),B("a",{onClick:function(){return document.getElementById("mySidenav").style.width="10px",document.getElementById("forum-middle").style.marginLeft="30px",document.getElementById("openicon").style.display="block",void(document.getElementById("closeicon").style.display="none")}},B("i",{className:"fa fa-chevron-circle-left closebtnforum",id:"closeicon"})),B("div",{id:"mySidenav",className:"forum-sidenav",style:{color:"black"}},B("div",{className:"mt-5 ml-4"},B("h6",{className:"partnership-all-post",onClick:o},B("strong",null,"See all post")," ")),B("div",{className:"mt-5 ml-4"},B("h6",{className:"partnership-all-post",onClick:r},"My Posts")),B("div",{className:"mt-3 ml-4"},B("h6",null,B("strong",null," Categories"))),B("div",{className:"mt-3 ml-4 subscriptions-list"},t&&t.length>0?t.map((function(e,t){var o=!!a.includes(e.key);return B("div",{className:"capitalize-text",key:t},B("input",{type:"checkbox",id:e.key,name:"checkbox",className:"mr-2",value:e.key,onChange:n,checked:o}),B("label",null,e.title))})):B("p",null,"No subscriptions"))))};var q=n("y4gq"),H=n("nOHt"),J=n("xwcx"),W=i.a.createElement;var K=function(){Object(s.useContext)(v.b).dispatch;var e=Object(s.useState)(""),t=(e[0],e[1],Object(s.useState)(!1)),n=t[0],a=t[1],o=Object(s.useState)(""),r=o[0],i=(o[1],Object(s.useState)("")),c=i[0],l=(i[1],Object(s.useState)("")),u=l[0],d=(l[1],Object(s.useState)("")),m=d[0],p=(d[1],Object(s.useState)(!1)),f=p[0],g=(p[1],Object(H.useRouter)());return W("div",null,W(b.a,{title:r,linkTo:u,linkText:m,show:n,success:u.length>0,handleClose:function(){f?g.push("/forum/forum"):g.push("/market"),a(!1)}},W("p",null,c)),W("div",{className:""},W("div",{className:"modal fade ",id:"forumnotsignin","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},W("div",{className:"modal-dialog modal-dialog-centered",role:"document"},W("div",{className:"modal-content"},W("div",{className:"modal-body"},W("div",{className:"checkoutcontent"},W("div",null,W("h3",{className:"modalheading mt-5"},"Login"),W(J.a,null)),W("br",null))))))))},V=n("MXb5"),Y=n.n(V),G=n("Nm0s"),Q=i.a.createElement;t.default=function(){var e=Object(s.useContext)(v.b),t=e.state,n=e.dispatch,a=Object(s.useState)({}),c=a[0],l=a[1],u=Object(s.useState)({}),m=u[0],p=u[1],b=Object(s.useState)([]),g=b[0],h=b[1],y=Object(s.useState)([]),O=y[0],w=y[1],N=Object(s.useState)([]),x=N[0],k=N[1],S=Object(s.useState)([]),j=(S[0],S[1]),P=Object(s.useState)({title:"",categories_id:"",body:""}),_=P[0],E=P[1],C=Object(s.useState)(!1),T=C[0],D=C[1],U=Object(s.useState)(),A=U[0],M=U[1],F=Object(s.useState)(),L=(F[0],F[1]),B=Object(s.useState)(!1),H=(B[0],B[1]),J=Object(s.useState)(!1),W=J[0],V=J[1],X=Object(s.useState)(null),$=X[0],Z=X[1],ee=Object(s.useState)(!1),te=ee[0],ne=ee[1],ae=Object(s.useState)("#3F3D56"),oe=ae[0],re=ae[1],se=Object(s.useState)("#3F3D56"),ie=se[0],ce=se[1];Object(s.useEffect)((function(){window.localStorage.getItem("cp-a")&&H(!0);var e=JSON.parse(window.localStorage.getItem("user-profile"));L(e);var t=window.localStorage.getItem("cp-a");t=JSON.parse(t),M(!!t)}),[]),Object(s.useEffect)((function(){Object(r.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==(t=JSON.parse(window.localStorage.getItem("cp-a")).user).is_organization){e.next=8;break}return e.next=4,(new d.a).getUserProfile();case 4:n=e.sent,l(n),e.next=13;break;case 8:if(!0!==t.is_organization){e.next=13;break}return e.next=11,(new d.a).getBusinessProfile();case 11:a=e.sent,p(a);case 13:case"end":return e.stop()}}),e)})))()}),[]),Object(s.useEffect)((function(){Object(r.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new f.a).getForumCategories();case 2:t=e.sent,h(t.results),D(!0);case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(s.useEffect)((function(){Object(r.a)(o.a.mark((function e(){var t,a,r,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new f.a).getUserSubscriptions();case 2:return t=e.sent,a=t.results?t.results[0].categories:null,r=[],s=a&&a.length>0?a.map((function(e){return r.push(e.key),"categories="+e.key})).join("&"):"",k(r),j(r),_.categories_id=s,E(_),e.next=12,(new f.a).getFilteredPosts(_);case 12:i=e.sent,w(i.results),n({type:"UPDATE_FORUM_POSTS",payload:i.results});case 15:case"end":return e.stop()}}),e)})))()}),[]);var le=function(){var e=Object(r.a)(o.a.mark((function e(t){var a,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=x,t.target.checked?a.push(t.target.value):a=a.filter((function(e){return e!=t.target.value})),k(a),!(a.length<1)){e.next=7;break}ue(),e.next=16;break;case 7:return r=a.map((function(e){return"categories="+e})).join("&"),_.categories_id=r,E(_),e.next=12,(new f.a).getFilteredPosts(_);case 12:s=e.sent,w(s.results),D(!0),n({type:"UPDATE_FORUM_POSTS",payload:s.results});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(r.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.categories_id="",E(_),e.next=4,(new f.a).getFilteredPosts(_);case 4:t=e.sent,w(t.results),n({type:"UPDATE_FORUM_POSTS",payload:t.results}),V(!1),re("#1B98E0"),ce("#3F3D56");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(r.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new f.a).getForumPosts();case 2:t=e.sent,a=t.results.filter((function(e){return null==e.parent})),w(a),n({type:"UPDATE_FORUM_POSTS",payload:a}),V(!0),ce("#1B98E0"),re("#3F3D56");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(r.a)(o.a.mark((function e(t){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value,e.next=3,(new f.a).searchForumPosts(a);case 3:r=e.sent,n({type:"UPDATE_FORUM_POSTS",payload:r.results});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Q(i.a.Fragment,null,Q(q.a,{title:"Forum Page",pageTitle:"Forum Page"},Q("div",{className:"forum-mobilenav"},Q(z,{handleList:function(e){},allcategories:g,filterPosts:le,selectedcategories:x,getAllPosts:ue,getUserPosts:de})),Q("div",{className:"row mt-4"},Q("div",{className:"col-md-3 left-sidebar"},Q("div",{className:"card card-left-partner1"},Q("div",{className:"mb-2"},Q("p",{className:"partnership-all-post",onClick:ue,style:{color:oe}},"See all post"),A?Q("p",{className:"partnership-all-post",onClick:de,style:{color:ie}},"My Posts"):""),Q("div",{className:"partnership-header mb-1"},Q("span",null,"Categories")),Q("div",{className:"subscriptions-list"},g&&g.length>0?g.map((function(e,t){var n=!!x.includes(e.key);return Q("div",{className:"capitalize-text",key:t},Q("input",{type:"checkbox",id:e.key,name:"checkbox",className:"mr-2",value:e.key,onChange:le,checked:n}),Q("label",null,e.title))})):Q("p",null,"No subscriptions")))),Q("div",{className:"col-sm-12 col-md-12 col-lg-6 middle-content"},Q("div",{className:"inner-addon right-addon search-forum-mobile mb-6 ml-3",style:{width:"97%"}},Q("i",{className:"fe fe-search fa-lg"}),Q("input",{id:"searchforum",className:"form-control form-rounded",type:"text",placeholder:"Search...",onChange:me})),A?Q("a",{"data-toggle":"modal","data-target":"#exampleModalCenter"},Q("div",{className:"addpost-icon"},Q("i",{className:"fe fe-plus "})),Q("div",{className:"row card-forum1"}),Q("div",{className:"card card-forum card-hover"},Q("div",{className:"mt-3 d-flex mb-2"},Q("img",{src:c.image?c.image:m.image?m.image:"/assets/images/Profile_Icon.png",className:"ml-3 business-image-partnershipDetail",alt:""}),Q("div",{className:"ml-3 mt-3"},Q("div",null,Q("h5",null,Q("strong",null," ",(null===c||void 0===c?void 0:c.name)?c.name:m.title))))),Q("p",{className:"ml-4"},"Share your thoughts with us"))):Q("a",{"data-toggle":"modal","data-target":"#forumnotsignin"},Q("div",{className:"addpost-icon"},Q("i",{className:"fe fe-plus "})),Q("div",{className:"row card-forum1"}),Q("div",{className:"card card-forum card-hover"},Q("div",{className:"mt-3 d-flex mb-2"},Q("img",{src:c.image?c.image:"/assets/images/Profile_Icon.png",className:"ml-3 business-image-partnershipDetail",alt:""}),Q("div",{className:"ml-3 mt-3"},Q("div",null,Q(i.a.Fragment,null,Q("strong",null," ",(null===c||void 0===c?void 0:c.name)?c.name:c.title))))),Q("p",{className:"ml-4"},"Share your thoughts with us"))),Q("div",{className:"post-content",id:"forum-middle"},Q("div",{className:"row"},T?T&&t.posts.length<0?Q("div",{style:{margin:"0 auto"}},Q("p",{id:"no-products",className:"no-products-found"},"No posts available currently.")):x.length>0&&t.posts.length<=0?Q("div",{style:{margin:"15px auto"}},Q("p",{id:"no-products",className:"no-products-found"},"No posts available under this category.")):null:Q("div",{className:"",style:{margin:"auto",marginTop:"50px"}},Q(G.PropagateLoader,{size:30,color:"#1b98e0",loading:!0}))),t.posts&&t.posts.length>0?t.posts.map((function(e,t){return Q(I,{key:t,post:e,showBtns:W,setAllPosts:w,posts:O,setCurrentPost:Z,setEdit:ne})})):W?Q("div",{className:"row"},Q("div",{style:{margin:"0 auto"}},Q("p",{id:"no-products",className:"no-products-found"},"No posts available under this category."))):null)),Q("div",{className:"col-md-3 right-sidebar"},Q("div",{className:"mb-6 "},Q("div",{className:"inner-addon right-addon"},Q("i",{className:"fe fe-search fa-lg"}),Q("input",{id:"searchforum",className:"form-control form-rounded",type:"text",placeholder:"Search...",onChange:me}))),Q("div",{className:"card partnership-quickLinks"},Q("div",{className:"partnership-header mb-1"},Q("span",{title:"Quick links"},"Quick Links")),Q("div",{className:""},Q("div",{className:"mt-2"},Q("a",{target:"_blank",href:"/termsAndconditions"},"User Agreement")),Q("div",{className:"mt-2"},Q("a",{target:"_blank",href:"/policy"},"Privacy Policy")))))),Q(Y.a,{smooth:!0,color:"#1b98e0"})),Q(R,{posts:O,setAllPosts:w,allcategories:g,post:$,edit:te,setEdit:ne}),Q(K,null))}},UYf5:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var a=n("q1tI"),o=n("17x9"),r=function(){return(r=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s={onActivate:o.func,onAddUndo:o.func,onBeforeAddUndo:o.func,onBeforeExecCommand:o.func,onBeforeGetContent:o.func,onBeforeRenderUI:o.func,onBeforeSetContent:o.func,onBeforePaste:o.func,onBlur:o.func,onChange:o.func,onClearUndos:o.func,onClick:o.func,onContextMenu:o.func,onCopy:o.func,onCut:o.func,onDblclick:o.func,onDeactivate:o.func,onDirty:o.func,onDrag:o.func,onDragDrop:o.func,onDragEnd:o.func,onDragGesture:o.func,onDragOver:o.func,onDrop:o.func,onExecCommand:o.func,onFocus:o.func,onFocusIn:o.func,onFocusOut:o.func,onGetContent:o.func,onHide:o.func,onInit:o.func,onKeyDown:o.func,onKeyPress:o.func,onKeyUp:o.func,onLoadContent:o.func,onMouseDown:o.func,onMouseEnter:o.func,onMouseLeave:o.func,onMouseMove:o.func,onMouseOut:o.func,onMouseOver:o.func,onMouseUp:o.func,onNodeChange:o.func,onObjectResizeStart:o.func,onObjectResized:o.func,onObjectSelected:o.func,onPaste:o.func,onPostProcess:o.func,onPostRender:o.func,onPreProcess:o.func,onProgressState:o.func,onRedo:o.func,onRemove:o.func,onReset:o.func,onSaveContent:o.func,onSelectionChange:o.func,onSetAttrib:o.func,onSetContent:o.func,onShow:o.func,onSubmit:o.func,onUndo:o.func,onVisualAid:o.func},i=r({apiKey:o.string,id:o.string,inline:o.bool,init:o.object,initialValue:o.string,onEditorChange:o.func,outputFormat:o.oneOf(["html","text"]),value:o.string,tagName:o.string,cloudChannel:o.string,plugins:o.oneOfType([o.string,o.array]),toolbar:o.oneOfType([o.string,o.array]),disabled:o.bool,textareaName:o.string,tinymceScriptSrc:o.string,scriptLoading:o.shape({async:o.bool,defer:o.bool,delay:o.number})},s),c=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,i=r.length;s<i;s++,o++)a[o]=r[s];return a},l=function(e){return"function"===typeof e},u=function(e){return e in s},d=function(e){return e.substr(2)},m=function(e,t,n,a){return p(e.on.bind(e),e.off.bind(e),(function(t){return function(n){return t(n,e)}}),t,n,a)},p=function(e,t,n,a,o,r){var s=Object.keys(a).filter(u),i=Object.keys(o).filter(u),l=s.filter((function(e){return void 0===o[e]})),m=i.filter((function(e){return void 0!==a[e]&&a[e]!=o[e]})),p=i.filter((function(e){return void 0===a[e]}));c(l,m).forEach((function(e){var n=d(e),a=r[n];t(n,a),delete r[n]})),c(m,p).forEach((function(t){var a=o[t];if(void 0!==a){var s=d(t),i=n(a);r[s]=i,e(s,i)}}))},f=0,v=function(e){var t=Date.now();return e+"_"+Math.floor(1e9*Math.random())+ ++f+String(t)},b=function(e){return"undefined"===typeof e||""===e?[]:Array.isArray(e)?e:e.split(" ")},g=function(){return{listeners:[],scriptId:v("tiny-script"),scriptLoading:!1,scriptLoaded:!1}},h=function(){var e=g();return{load:function(t,n,a,o,r,s){var i=function(){return function(e,t,n,a,o,r){var s=t.createElement("script");s.referrerPolicy="origin",s.type="application/javascript",s.id=e,s.src=n,s.async=a,s.defer=o;var i=function(){s.removeEventListener("load",i),r()};s.addEventListener("load",i),t.head&&t.head.appendChild(s)}(e.scriptId,t,n,a,o,(function(){e.listeners.forEach((function(e){return e()})),e.scriptLoaded=!0}))};e.scriptLoaded?s():(e.listeners.push(s),e.scriptLoading||(e.scriptLoading=!0,r>0?setTimeout(i,r):i()))},reinitialize:function(){e=g()}}}(),y=n("4le0"),O=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),w=function(){return(w=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},N=function(e){function t(t){var n,o,r,s=e.call(this,t)||this;return s.handleEditorChange=function(e){var t,n=s.editor;if(n){var a=n.getContent({format:s.props.outputFormat});a!==s.currentContent&&(s.currentContent=a,l(s.props.onEditorChange)&&s.props.onEditorChange(null!==(t=s.currentContent)&&void 0!==t?t:"",n))}},s.handleInit=function(e){var t=s.editor;t&&(t.setContent(s.getInitialValue()),t.undoManager.clear(),t.undoManager.add(),t.setDirty(!1),l(s.props.onEditorChange)&&t.on("change keyup setcontent",s.handleEditorChange),l(s.props.onInit)&&s.props.onInit(e,t),m(t,{},s.props,s.boundHandlers))},s.initialise=function(){var e=s.elementRef.current;if(e){var t=Object(y.a)();if(!t)throw new Error("tinymce should have been loaded into global scope");var n,a,o,r=w(w({},s.props.init),{selector:void 0,target:e,readonly:s.props.disabled,inline:s.inline,plugins:(n=s.props.init&&s.props.init.plugins,a=s.props.plugins,b(n).concat(b(a))),toolbar:s.props.toolbar||s.props.init&&s.props.init.toolbar,setup:function(e){s.editor=e,e.on("init",s.handleInit),s.props.init&&l(s.props.init.setup)&&s.props.init.setup(e)}});null!==(o=s.elementRef.current)&&"textarea"===o.tagName.toLowerCase()&&(s.elementRef.current.style.visibility=""),t.init(r)}},s.id=s.props.id||v("tiny-react"),s.elementRef=a.createRef(),s.inline=null!==(r=null!==(n=s.props.inline)&&void 0!==n?n:null===(o=s.props.init)||void 0===o?void 0:o.inline)&&void 0!==r&&r,s.boundHandlers={},s}return O(t,e),t.prototype.componentDidUpdate=function(e){var t,n=this;if(this.editor&&this.editor.initialized){if(m(this.editor,e,this.props,this.boundHandlers),this.currentContent=null!==(t=this.currentContent)&&void 0!==t?t:this.editor.getContent({format:this.props.outputFormat}),"string"===typeof this.props.value&&this.props.value!==e.value&&this.props.value!==this.currentContent){var a=this.editor;a.undoManager.transact((function(){return a.setContent(n.props.value)}))}"boolean"===typeof this.props.disabled&&this.props.disabled!==e.disabled&&this.editor.setMode(this.props.disabled?"readonly":"design")}},t.prototype.componentDidMount=function(){var e,t,n,a,o,r;null!==Object(y.a)()?this.initialise():this.elementRef.current&&this.elementRef.current.ownerDocument&&h.load(this.elementRef.current.ownerDocument,this.getScriptSrc(),null!==(t=null===(e=this.props.scriptLoading)||void 0===e?void 0:e.async)&&void 0!==t&&t,null!==(a=null===(n=this.props.scriptLoading)||void 0===n?void 0:n.defer)&&void 0!==a&&a,null!==(r=null===(o=this.props.scriptLoading)||void 0===o?void 0:o.delay)&&void 0!==r?r:0,this.initialise)},t.prototype.componentWillUnmount=function(){var e=this,t=this.editor;t&&(t.off("init",this.handleInit),t.initialized&&(t.off("change keyup setcontent",this.handleEditorChange),Object.keys(this.boundHandlers).forEach((function(n){t.off(n,e.boundHandlers[n])})),this.boundHandlers={}),t.remove())},t.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},t.prototype.renderInline=function(){var e=this.props.tagName,t=void 0===e?"div":e;return a.createElement(t,{ref:this.elementRef,id:this.id})},t.prototype.renderIframe=function(){return a.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id})},t.prototype.getScriptSrc=function(){if("string"===typeof this.props.tinymceScriptSrc)return this.props.tinymceScriptSrc;var e=this.props.cloudChannel;return"https://cdn.tiny.cloud/1/"+(this.props.apiKey?this.props.apiKey:"no-api-key")+"/tinymce/"+e+"/tinymce.min.js"},t.prototype.getInitialValue=function(){return"string"===typeof this.props.value?this.props.value:"string"===typeof this.props.initialValue?this.props.initialValue:""},t.propTypes=i,t.defaultProps={cloudChannel:"5"},t}(a.Component)},a3WO:function(e,t,n){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n.d(t,"a",(function(){return a}))},xwcx:function(e,t,n){"use strict";var a=n("o0o1"),o=n.n(a),r=n("HaE+"),s=n("q1tI"),i=n.n(s),c=n("TBf0"),l=n("nOHt"),u=n("tsWT"),d=n("4X1m"),m=i.a.createElement;t.a=function(){var e=Object(s.useState)(""),t=e[0],n=e[1],a=Object(s.useState)(""),p=a[0],f=a[1],v=Object(s.useState)(!1),b=v[0],g=v[1],h=Object(s.useState)(""),y=h[0],O=h[1],w=Object(s.useState)(""),N=w[0],x=w[1],k=Object(s.useState)(""),S=k[0],j=k[1],P=Object(s.useState)(""),_=P[0],E=P[1],C=Object(s.useState)(!1),T=C[0],I=C[1],D=Object(s.useContext)(d.b).dispatch,U=(Object(l.useRouter)(),function(e){window.localStorage.setItem("user-profile",JSON.stringify(e)),D({type:"SET_USERINFO",payload:e})}),A=function(e,t,n,a){g(!0),O(e),E(n),j(t),x(a)},M=function(){var e=Object(r.a)(o.a.mark((function e(n){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),a={},e.prev=2,e.next=5,(new c.a).login(t,p);case 5:if(!(r=e.sent).user){e.next=30;break}if(window.localStorage.removeItem("cart_id"),D({type:"SET_LOGGEDIN",payload:!0}),window.localStorage.setItem("cp-a",JSON.stringify(r)),!r.user.is_staff){e.next=16;break}return e.next=13,(new c.g).getAdminProfile();case 13:a=e.sent,e.next=25;break;case 16:if(1!=r.user.is_organization){e.next=22;break}return e.next=19,(new c.g).getBusinessProfile();case 19:a=e.sent,e.next=25;break;case 22:return e.next=24,(new c.g).getUserProfile();case 24:a=e.sent;case 25:U(a),g(!1),r.user&&window.location.reload(),e.next=31;break;case 30:A("Login","","Close","No active account found with the given credentials.");case 31:e.next=36;break;case 33:e.prev=33,e.t0=e.catch(2),"Request failed with status code 401"===e.t0.message?A("Login","","Okay","Please check your credentials and try again."):"Request failed with status code 404"===e.t0.message?A("Login","","Close","Request failed"):"Network Error"===e.t0.message?A("Login","","Okay","Please check your network connection and try again."):A("Login","","Close","Login failed.");case 36:case"end":return e.stop()}}),e,null,[[2,33]])})));return function(t){return e.apply(this,arguments)}}();return m(i.a.Fragment,null,m(u.a,{title:y,linkTo:S,linkText:_,show:b,success:S.length>0,handleClose:function(){return g(!1)}},m("p",null,N)),m("form",{className:"needs-validation",noValidate:!0},m("label",{htmlFor:"InputEmail",className:"formlabel"},"Email"),m("input",{type:"email",className:"form-control form-rounded",id:"InputEmail",placeholder:"Please enter a valid email",value:t,onChange:function(e){return n(e.target.value)}}),m("div",{className:"form-group"},m("label",{htmlFor:"InputPassword1",className:"formlabel"},"Password"),m("div",{className:"inner-addon right-addon"},m("i",{className:"".concat(T?"fe fe-eye fa-lg":"fe fe-eye-off fa-lg"),onClick:function(){return I(!T)},style:{cursor:"pointer"}}),m("input",{id:"InputPassword1",className:"form-control form-rounded",type:T?"text":"password",placeholder:"Password must be at least 8 characters","data-toggle":"password",value:p,onChange:function(e){return f(e.target.value)}}))),m("div",{className:"center"},m("button",{id:"signin_button",type:"submit",className:"btn btn-primary btn-block authbtn",onClick:M},"Login")),m("br",null),m("div",{className:"center"},m("div",null,m("a",{href:"/auth/forgottenpassword",className:"texthover"},"Forgot Password?")),m("br",null),m("div",null,"Don't have an account?"," ",m("a",{className:"signuptext",href:"/auth/signup"},m("b",null,"Sign Up"))))))}}},[["LQ4i",0,1,6,2,3,4,5,7,9]]]);