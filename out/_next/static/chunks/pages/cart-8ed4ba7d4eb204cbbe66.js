_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[40],{"+f1E":function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart",function(){return a("Jwq0")}])},"2W6z":function(e,t,a){"use strict";var n=function(){};e.exports=n},"65eO":function(e,t,a){"use strict";var n=a("wx14"),r=a("zLVn"),o=a("TSYQ"),c=a.n(o),l=a("q1tI"),s=a.n(l),i=a("vUet"),u=s.a.forwardRef((function(e,t){var a=e.bsPrefix,o=e.variant,l=e.pill,u=e.className,d=e.as,m=void 0===d?"span":d,p=Object(r.a)(e,["bsPrefix","variant","pill","className","as"]),f=Object(i.a)(a,"badge");return s.a.createElement(m,Object(n.a)({ref:t},p,{className:c()(u,f,l&&f+"-pill",o&&f+"-"+o)}))}));u.displayName="Badge",u.defaultProps={pill:!1},t.a=u},"6xyR":function(e,t,a){"use strict";var n=a("wx14"),r=a("zLVn"),o=a("TSYQ"),c=a.n(o),l=a("q1tI"),s=a.n(l),i=a("vUet"),u=a("YdCC"),d=function(e){return s.a.forwardRef((function(t,a){return s.a.createElement("div",Object(n.a)({},t,{ref:a,className:c()(t.className,e)}))}))},m=s.a.createContext(null);m.displayName="CardContext";var p=m,f=s.a.forwardRef((function(e,t){var a=e.bsPrefix,o=e.className,l=e.variant,u=e.as,d=void 0===u?"img":u,m=Object(r.a)(e,["bsPrefix","className","variant","as"]),p=Object(i.a)(a,"card-img");return s.a.createElement(d,Object(n.a)({ref:t,className:c()(l?p+"-"+l:p,o)},m))}));f.displayName="CardImg",f.defaultProps={variant:null};var b=f,v=d("h5"),h=d("h6"),g=Object(u.a)("card-body"),y=Object(u.a)("card-title",{Component:v}),w=Object(u.a)("card-subtitle",{Component:h}),N=Object(u.a)("card-link",{Component:"a"}),O=Object(u.a)("card-text",{Component:"p"}),j=Object(u.a)("card-header"),x=Object(u.a)("card-footer"),S=Object(u.a)("card-img-overlay"),C=s.a.forwardRef((function(e,t){var a=e.bsPrefix,o=e.className,u=e.bg,d=e.text,m=e.border,f=e.body,b=e.children,v=e.as,h=void 0===v?"div":v,y=Object(r.a)(e,["bsPrefix","className","bg","text","border","body","children","as"]),w=Object(i.a)(a,"card"),N=Object(l.useMemo)((function(){return{cardHeaderBsPrefix:w+"-header"}}),[w]);return s.a.createElement(p.Provider,{value:N},s.a.createElement(h,Object(n.a)({ref:t},y,{className:c()(o,w,u&&"bg-"+u,d&&"text-"+d,m&&"border-"+m)}),f?s.a.createElement(g,null,b):b))}));C.displayName="Card",C.defaultProps={body:!1},C.Img=b,C.Title=y,C.Subtitle=w,C.Body=g,C.Link=N,C.Text=O,C.Header=j,C.Footer=x,C.ImgOverlay=S;t.a=C},Dugb:function(e,t,a){!function(e){"use strict";function t(e,t){return e(t={exports:{}},t.exports),t.exports}var a={symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3,stripZeros:!1,fallback:0};function n(e){var t=arguments.length<=1||void 0===arguments[1]?a.decimal:arguments[1],r=arguments.length<=2||void 0===arguments[2]?a.fallback:arguments[2];if(Array.isArray(e))return e.map((function(e){return n(e,t,r)}));if("number"===typeof e)return e;var o=new RegExp("[^0-9-(-)-"+t+"]",["g"]),c=(""+e).replace(o,"").replace(t,".").replace(/\(([-]*\d*[^)]?\d+)\)/g,"-$1").replace(/\((.*)\)/,""),l=(c.match(/-/g)||2).length%2,s=parseFloat(c.replace(/-/g,""))*(l?-1:1);return isNaN(s)?r:s}function r(e,t){return e=Math.round(Math.abs(e)),isNaN(e)?t:e}function o(e,t){t=r(t,a.precision);var n=Math.pow(10,t);return(Math.round((e+1e-8)*n)/n).toFixed(t)}var c=t((function(e){var t=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=Object.assign||function(e,r){for(var o,c,l=n(e),s=1;s<arguments.length;s++){for(var i in o=Object(arguments[s]))t.call(o,i)&&(l[i]=o[i]);if(Object.getOwnPropertySymbols){c=Object.getOwnPropertySymbols(o);for(var u=0;u<c.length;u++)a.call(o,c[u])&&(l[c[u]]=o[c[u]])}}return l}})),l=c&&"object"===typeof c&&"default"in c?c.default:c;function s(e,t){var a=e.split(t),n=a[0],r=a[1].replace(/0+$/,"");return r.length>0?n+t+r:n}function i(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(Array.isArray(e))return e.map((function(e){return i(e,t)}));t=l({},a,t);var n=e<0?"-":"",r=parseInt(o(Math.abs(e),t.precision),10)+"",c=r.length>3?r.length%3:0,u=n+(c?r.substr(0,c)+t.thousand:"")+r.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+t.thousand)+(t.precision>0?t.decimal+o(Math.abs(e),t.precision).split(".")[1]:"");return t.stripZeros?s(u,t.decimal):u}var u=t((function(e){var t=String.prototype.valueOf,a=function(e){try{return t.call(e),!0}catch(a){return!1}},n=Object.prototype.toString,r="[object String]",o="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;e.exports=function(e){return"string"===typeof e||"object"===typeof e&&(o?a(e):n.call(e)===r)}})),d=u&&"object"===typeof u&&"default"in u?u.default:u;function m(e){return d(e)&&e.match("%v")?{pos:e,neg:e.replace("-","").replace("%v","-%v"),zero:e}:e}function p(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(Array.isArray(e))return e.map((function(e){return p(e,t)}));var n=m((t=l({},a,t)).format);return(e>0?n.pos:e<0?n.neg:n.zero).replace("%s",t.symbol).replace("%v",i(Math.abs(e),t))}function f(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(!e)return[];var r=m((t=l({},a,t)).format),o=r.pos.indexOf("%s")<r.pos.indexOf("%v"),c=0;return e.map((function(e){if(Array.isArray(e))return f(e,t);var a=((e=n(e,t.decimal))>0?r.pos:e<0?r.neg:r.zero).replace("%s",t.symbol).replace("%v",i(Math.abs(e),t));return a.length>c&&(c=a.length),a})).map((function(e){return d(e)&&e.length<c?o?e.replace(t.symbol,t.symbol+new Array(c-e.length+1).join(" ")):new Array(c-e.length+1).join(" ")+e:e}))}e.settings=a,e.unformat=n,e.toFixed=o,e.formatMoney=p,e.formatNumber=i,e.formatColumn=f,e.format=p,e.parse=n}(t)},F9IU:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n).a.createContext(null);r.displayName="NavContext",t.a=r},ILyh:function(e,t,a){"use strict";a.d(t,"b",(function(){return o}));var n=a("q1tI"),r=a.n(n).a.createContext(null),o=function(e,t){return void 0===t&&(t=null),null!=e?String(e):t||null};t.a=r},JCAc:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s}));var n=a("wx14"),r=a("zLVn"),o=a("q1tI");a("QLaP");function c(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function l(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function s(e,t,a){var n=Object(o.useRef)(void 0!==e),r=Object(o.useState)(t),c=r[0],l=r[1],s=void 0!==e,i=n.current;return n.current=s,!s&&i&&c!==t&&l(t),[s?e:c,Object(o.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a&&a.apply(void 0,[e].concat(n)),l(e)}),[a])]}function i(e,t){return Object.keys(t).reduce((function(a,o){var i,u=a,d=u[c(o)],m=u[o],p=Object(r.a)(u,[c(o),o].map(l)),f=t[o],b=s(m,d,e[f]),v=b[0],h=b[1];return Object(n.a)({},p,((i={})[o]=v,i[f]=h,i))}),e)}a("dI71"),a("VCL8")},Jwq0:function(e,t,a){"use strict";a.r(t);var n=a("o0o1"),r=a.n(n),o=a("HaE+"),c=a("q1tI"),l=a.n(c),s=a("6xyR"),i=a("wx14"),u=a("zLVn"),d=a("TSYQ"),m=a.n(d),p=(a("2W6z"),a("JCAc")),f=a("vUet"),b=a("Zeqi"),v=a("YGJp"),h=a("lcWJ"),g=a("F9IU"),y=a("ILyh"),w=l.a.createContext(null),N=function(){},O=l.a.forwardRef((function(e,t){var a,n,r=e.as,o=void 0===r?"ul":r,s=e.onSelect,d=e.activeKey,m=e.role,p=e.onKeyDown,f=Object(u.a)(e,["as","onSelect","activeKey","role","onKeyDown"]),O=Object(v.a)(),j=Object(c.useRef)(!1),x=Object(c.useContext)(y.a),S=Object(c.useContext)(w);S&&(m=m||"tablist",d=S.activeKey,a=S.getControlledId,n=S.getControllerId);var C=Object(c.useRef)(null),k=function(e){var t=C.current;if(!t)return null;var a=Object(b.a)(t,"[data-rb-event-key]:not(.disabled)"),n=t.querySelector(".active");if(!n)return null;var r=a.indexOf(n);if(-1===r)return null;var o=r+e;return o>=a.length&&(o=0),o<0&&(o=a.length-1),a[o]},P=function(e,t){null!=e&&(s&&s(e,t),x&&x(e,t))};Object(c.useEffect)((function(){if(C.current&&j.current){var e=C.current.querySelector("[data-rb-event-key].active");e&&e.focus()}j.current=!1}));var I=Object(h.a)(t,C);return l.a.createElement(y.a.Provider,{value:P},l.a.createElement(g.a.Provider,{value:{role:m,activeKey:Object(y.b)(d),getControlledId:a||N,getControllerId:n||N}},l.a.createElement(o,Object(i.a)({},f,{onKeyDown:function(e){var t;switch(p&&p(e),e.key){case"ArrowLeft":case"ArrowUp":t=k(-1);break;case"ArrowRight":case"ArrowDown":t=k(1);break;default:return}t&&(e.preventDefault(),P(t.dataset.rbEventKey,e),j.current=!0,O())},ref:I,role:m}))))})),j=a("ZCiN"),x=l.a.forwardRef((function(e,t){var a=e.active,n=e.className,r=e.eventKey,o=e.onSelect,s=e.onClick,d=e.as,p=Object(u.a)(e,["active","className","eventKey","onSelect","onClick","as"]),f=Object(y.b)(r,p.href),b=Object(c.useContext)(y.a),v=Object(c.useContext)(g.a),h=a;if(v){p.role||"tablist"!==v.role||(p.role="tab");var w=v.getControllerId(f),N=v.getControlledId(f);p["data-rb-event-key"]=f,p.id=w||p.id,p["aria-controls"]=N||p["aria-controls"],h=null==a&&null!=f?v.activeKey===f:a}"tab"===p.role&&(p.tabIndex=h?p.tabIndex:-1,p["aria-selected"]=h);var O=Object(j.a)((function(e){s&&s(e),null!=f&&(o&&o(f,e),b&&b(f,e))}));return l.a.createElement(d,Object(i.a)({},p,{ref:t,onClick:O,className:m()(n,h&&"active")}))}));x.defaultProps={disabled:!1};var S=x,C={variant:void 0,active:!1,disabled:!1},k=l.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.active,r=e.disabled,o=e.className,s=e.variant,d=e.action,p=e.as,b=e.eventKey,v=e.onClick,h=Object(u.a)(e,["bsPrefix","active","disabled","className","variant","action","as","eventKey","onClick"]);a=Object(f.a)(a,"list-group-item");var g=Object(c.useCallback)((function(e){if(r)return e.preventDefault(),void e.stopPropagation();v&&v(e)}),[r,v]);return l.a.createElement(S,Object(i.a)({ref:t},h,{eventKey:Object(y.b)(b||null,h.href),as:p||(d?h.href?"a":"button":"div"),onClick:g,className:m()(o,a,n&&"active",r&&"disabled",s&&a+"-"+s,d&&a+"-action")}))}));k.defaultProps=C,k.displayName="ListGroupItem";var P=k,I={variant:void 0,horizontal:void 0},_=l.a.forwardRef((function(e,t){var a,n=Object(p.a)(e,{activeKey:"onSelect"}),r=n.className,o=n.bsPrefix,c=n.variant,s=n.horizontal,d=n.as,b=void 0===d?"div":d,v=Object(u.a)(n,["className","bsPrefix","variant","horizontal","as"]),h=Object(f.a)(o,"list-group");return a=s?!0===s?"horizontal":"horizontal-"+s:null,l.a.createElement(O,Object(i.a)({ref:t},v,{as:b,className:m()(r,h,c&&h+"-"+c,a&&h+"-"+a)}))}));_.defaultProps=I,_.displayName="ListGroup",_.Item=P;var E=_,T=a("65eO"),U=a("cWnB"),A=a("TBf0"),F=a("4X1m"),R=a("nOHt"),W=a("tsWT"),q=l.a.createElement;var D=function(e){var t=e.cart,a=Object(c.useState)(""),n=a[0],l=a[1],s=Object(c.useState)(!1),i=s[0],u=s[1],d=Object(c.useState)(""),m=d[0],p=d[1],f=Object(c.useState)(""),b=f[0],v=f[1],h=Object(c.useState)(""),g=h[0],y=h[1],w=Object(c.useState)(""),N=w[0],O=w[1],j=Object(c.useState)(!1),x=j[0],S=j[1],C=Object(c.useState)(),k=C[0],P=C[1],I=Object(c.useContext)(F.b),_=I.state,E=I.dispatch,T=Object(R.useRouter)();Object(c.useEffect)((function(){if(null!==window.localStorage.getItem("cart_id")){var e=window.localStorage.getItem("cart_id");P(e)}}),[]);var U=function(e,t,a,n){u(!0),p(e),O(a),y(t),v(n)},D=function(){var e=Object(o.a)(r.a.mark((function e(a){var o,c,l,s,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,(new A.e).createGuest(n);case 3:if(o=e.sent,c=o.uuid,E({type:"SET_GUEST",payload:c}),l=[],t.map((function(e){return l.push({id:e.prodid,quantity:e.qty})})),s=/^\+?([0-9]{2})\)?[-. ]?([0-9]{4})[-. ]?([0-9]{4})$/,n.match(s)){e.next=13;break}U("Checkout","","Close","Invalid phone number"),e.next=29;break;case 13:return e.prev=13,U("Order Placement","","","Processing your order(s)."),e.next=17,(new A.e).placeOrderGuest(k,c);case 17:return i=e.sent,e.next=20,window.localStorage.removeItem("cart_id");case 20:i.order_products&&(S(!0),U("Order Placement","","close","Your order has been placed successfully. The business owner will call you to discuss delivery and payment terms.")),E({type:"UPDATE_CART",payload:[]}),E({type:"SET_GUEST",payload:null}),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(13),U("Order Placement","","close","Problem placing order. Please try again");case 28:T.push("/cart");case 29:case"end":return e.stop()}}),e,null,[[13,25]])})));return function(t){return e.apply(this,arguments)}}();return q("div",null,q(W.a,{title:m,linkTo:g,linkText:N,show:i,success:g.length>0,handleClose:function(){x?T.push("/market"):T.push("/cart"),u(!1)}},q("p",null,b)),q("div",{className:""},q("div",{className:"modal fade ",id:"checkout2","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},q("div",{className:"modal-dialog modal-dialog-centered",role:"document"},q("div",{className:"modal-content",style:{margin:"auto",width:"70%"}},q("div",{className:"modal-body"},q("div",{className:"checkoutcontent"},q("div",null,q("h3",{className:"modalheading mt-5"},"Complete your ",q("br",null)," order as a guest")),q("br",null),q("form",null,q("div",{className:"form-group"},q("label",{htmlFor:"InputEmail",className:"formlabel"},"Telephone Number"),q("input",{type:"tel",className:"form-control form-rounded",id:"modalnumber2",placeholder:"Please enter your telephone number",onChange:function(e){l(e.target.value)}}),q("br",null),q("div",{className:"form-group"},q("button",{"data-dismiss":"modal",type:"submit",id:"placeorder_button",className:"btn btn-primary btn-block authbtn",onClick:D},"Continue")),q("div",{className:"form-group"},q("p",{className:"or"},q("b",null,"Or")),q("p",{className:"or"},"Continue with your account?",q("a",{"data-dismiss":"modal",onClick:function(){console.log("cart:",_.cart),window.localStorage.setItem("guest_to_loggedin",JSON.stringify({cart:_.cart})),window.localStorage.setItem("checkout","guest"),T.push("/auth/login")},className:"signuptext ml-1",style:{cursor:"pointer",color:"#3964fc"}},q("b",null,"Log in")))),q("div",{className:"form-group modalmargin"},q("p",{className:"or"},"Create an account?",q("a",{"data-dismiss":"modal",onClick:function(){window.localStorage.setItem("checkout","guest"),T.push("/auth/signup")},className:"signuptext ml-1",style:{cursor:"pointer",color:"#3964fc"}},q("b",null,"Sign up")))))))))))))},M=l.a.createElement;var L=function(e){var t=e.cart,a=Object(c.useContext)(F.b),n=a.state,s=a.dispatch,i=Object(c.useState)(""),u=(i[0],i[1],Object(c.useState)("")),d=u[0],m=u[1],p=Object(c.useState)(),f=(p[0],p[1],Object(c.useState)()),b=f[0],v=f[1],h=Object(c.useState)(!1),g=h[0],y=h[1],w=Object(c.useState)(""),N=w[0],O=w[1],j=Object(c.useState)(""),x=j[0],S=j[1],C=Object(c.useState)(""),k=C[0],P=C[1],I=Object(c.useState)(""),_=I[0],E=I[1],T=Object(c.useState)(!1),U=T[0],q=T[1],D=Object(c.useState)(),L=D[0],z=D[1],J=Object(R.useRouter)(),K=Object(c.useState)(!1),B=K[0],G=K[1],Y=Object(c.useState)(""),H=Y[0],Q=Y[1];Object(c.useEffect)((function(){var e=window.localStorage.getItem("user-profile");if(e=JSON.parse(e),v(e),console.log("key:",window.localStorage.getItem("cart_id")),null!==window.localStorage.getItem("cart_id")){var t=window.localStorage.getItem("cart_id");z(t)}}),[]),Object(c.useEffect)((function(){var e=window.localStorage.getItem("user-profile");e=JSON.parse(e),v(e)}),[n]);var V=function(e,t,a,n){y(!0),O(e),E(a),P(t),S(n)},Z=function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!/^\d{10}$/.test(d)){e.next=3;break}e.next=5;break;case 3:return V("Change Email","","Close","Check Phone: Please enter the correct phone number"),e.abrupt("return",!1);case 5:if(!(d.length<1)){e.next=8;break}return V("Change Phone Number","","Close","New email field can not empty"),e.abrupt("return",!1);case 8:if(!(H.length<1)){e.next=11;break}return V("Change Phone Number","","Close","Password field can not empty"),e.abrupt("return",!1);case 11:return e.next=13,(new A.g).changePhone({phone_number:d,password:H});case 13:if(t=e.sent,!Array.isArray(t.phone_number)){e.next=17;break}return V("Change Phone Number","","Close","User with this phone already exist"),e.abrupt("return",!1);case 17:if(!t.password){e.next=20;break}return V("Change Phone Number","","Close","No active account found with the given credentials."),e.abrupt("return",!1);case 20:return e.abrupt("return",!0);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(o.a)(r.a.mark((function e(){var a,n,o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=JSON.parse(window.localStorage.getItem("user-profile"))).user.is_staff){e.next=7;break}return e.next=4,(new A.g).getAdminProfile();case 4:n=e.sent,e.next=16;break;case 7:if(!a.user.is_organization){e.next=13;break}return e.next=10,(new A.g).getBusinessProfile();case 10:n=e.sent,e.next=16;break;case 13:return e.next=15,(new A.g).getUserProfile();case 15:n=e.sent;case 16:return X(n),o=[],t.map((function(e){return o.push({id:e.product_id,quantity:e.qty})})),e.prev=19,V("Order Placement","","","Processing your order(s)."),e.next=23,(new A.e).createCart();case 23:return c=e.sent,e.next=26,(new A.e).placeOrderSignIn(L||c.key);case 26:return e.sent&&(q(!0),V("Order Placement","","close","Your order has been placed successfully. The business owner will call you to discuss delivery and payment terms."),window.localStorage.removeItem("cart_id"),s({type:"UPDATE_CART",payload:[]})),s({type:"SET_GUEST",payload:null}),e.abrupt("return",!0);case 32:return e.prev=32,e.t0=e.catch(19),V("Order Placement","","close","Problem placing order. Please try again"),e.abrupt("return",!1);case 36:case"end":return e.stop()}}),e,null,[[19,32]])})));return function(){return e.apply(this,arguments)}}(),X=function(e){window.localStorage.setItem("user-profile",JSON.stringify(e)),s({type:"SET_USERINFO",payload:e})},ee=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""==b.user.phone_number){e.next=6;break}return e.next=4,$();case 4:e.next=14;break;case 6:return e.next=8,Z();case 8:if(!e.sent){e.next=14;break}return e.next=12,$();case 12:e.next=14;break;case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return M("div",null,M(W.a,{title:N,linkTo:k,linkText:_,show:g,success:k.length>0,handleClose:function(){U?J.push("/market"):J.push("/cart"),y(!1)}},M("p",null,x)),M("div",{className:""},M("div",{className:"modal fade ",id:"checkout1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},M("div",{className:"modal-dialog modal-dialog-centered",role:"document"},M("div",{className:"modal-content",style:{margin:"auto",width:"70%"}},M("div",{className:"modal-body"},M("div",{className:"checkoutcontent"},M("div",null,M("h3",{className:"modalheading mt-5"},"Complete your order")),M("br",null),M("form",null,M("div",{className:"form-group"},b&&!1===b.user.is_organization&&""===b.user.phone_number?M(l.a.Fragment,null,M("div",null,M("label",{htmlFor:"InputEmail",className:"formlabel"},"Telephone Number"),M("input",{type:"tel",className:"form-control form-rounded",id:"modalnumber",value:d,placeholder:"Please enter your telephone number",onChange:function(e){return m(e.target.value)}}),M("br",null),M("label",{htmlFor:"InputEmail",className:"formlabel"},"Password"),M("div",{className:"row form-group account-email-body"},M("input",{type:B?"text":"password",id:"account-input-password",className:"form-control form-rounded mail-pass-input2",placeholder:"Confirm number with password",value:H,onChange:function(e){return Q(e.target.value)}}),M("div",{className:"input-group-addon"},M("a",{href:"#"},M("i",{className:"".concat(B?"fe fe-eye":"fe fe-eye-off"),onClick:function(){return G(!B)}})))))):M(l.a.Fragment,null),b&&b.user.is_organization&&""===b.user.phone_number?M(l.a.Fragment,null,M("div",null,M("label",{htmlFor:"InputEmail",className:"formlabel"},"Telephone Number"),M("input",{type:"number",className:"form-control form-rounded",id:"modalnumber",value:d,placeholder:"Please enter your telephone number",onChange:function(e){return m(e.target.value)}}),M("br",null),M("label",{htmlFor:"InputEmail",className:"formlabel"},"Password"),M("div",{className:"row form-group account-email-body"},M("input",{type:B?"text":"password",id:"account-input-password",className:"form-control form-rounded mail-pass-input2",placeholder:"Confirm number with password",value:H,onChange:function(e){return Q(e.target.value)}}),M("div",{className:"input-group-addon"},M("a",{href:"#"},M("i",{className:"".concat(B?"fe fe-eye":"fe fe-eye-off"),onClick:function(){return G(!B)}})))))):M(l.a.Fragment,null),M("div",{className:"form-group"},M("div",{className:"d-flex mt-5 mb-2"},M("span",{className:"fe fe-info mr-1"}),M("h6",null,"Phone number provided in your profile will be used to place the order")),M("button",{"data-dismiss":"modal",type:"submit",id:"placeorder_button",className:"btn btn-primary btn-block authbtn",onClick:ee},"Continue"))),M("br",null)))))))))},z=a("y4gq"),J=a("Dugb"),K=a.n(J),B=l.a.createElement;t.default=function(){var e=Object(R.useRouter)(),t=Object(c.useContext)(F.b),a=t.state,n=t.dispatch,i=Object(c.useState)([]),u=i[0],d=i[1],m=Object(c.useState)(0),p=m[0],f=m[1],b=Object(c.useState)(),v=b[0],h=b[1],g=Object(c.useState)(),y=(g[0],g[1]),w=Object(c.useState)(1),N=(w[0],w[1]),O=Object(c.useState)(),j=(O[0],O[1]),x=Object(c.useState)(!1),S=x[0],C=x[1],k=Object(c.useState)(!1),P=k[0],I=k[1],_=Object(c.useState)(""),q=_[0],M=_[1],J=Object(c.useState)(""),G=J[0],Y=J[1],H=Object(c.useState)(""),Q=H[0],V=H[1],Z=Object(c.useState)(""),$=Z[0],X=Z[1],ee=Object(c.useState)(),te=(ee[0],ee[1]),ae=Object(c.useState)(!1),ne=(ae[0],ae[1]),re=Object(c.useState)(),oe=re[0],ce=re[1],le=function(e,t,a,n){I(!0),M(e),X(a),V(t),Y(n)},se=function(){var t=Object(o.a)(r.a.mark((function t(o){var c,l,s,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=window.localStorage.getItem("cart_id"),t.prev=1,t.next=4,(new A.e).removeItem(c,o);case 4:l=t.sent,(s=a.cart).splice(s.findIndex((function(e){return e.key===o})),1),d(s),l&&(i=a.cart,n({type:"UPDATE_CART",payload:i}),C(!0),e.push("/cart")),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),C(!1),le("Remove from cart","","Okay","Failed: Item removal has failed. Please try again.");case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}(),ie=function(e){return e.reduce((function(e,t){var a=t.price;return e+(a-t.discount/100*a)*t.quantity}),0)};Object(c.useEffect)((function(){a.cart&&a.cart.length>0&&(d(a.cart),f(ie(a.cart)))}),[a]),Object(c.useEffect)((function(){d(a.cart),a.cart&&a.cart.length>0&&f(ie(a.cart));var e=window.localStorage.getItem("cart_id");j(e);var t=JSON.parse(window.localStorage.getItem("user-profile"));y(t);var n=window.localStorage.getItem("cp-a");(n=JSON.parse(n))?(ne(!0),h(!0)):h(!1)}),[]);var ue=function(){var e=Object(o.a)(r.a.mark((function e(t,o){var c,l,s,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return te(o),N(Number(t.target.value)),c=window.localStorage.getItem("cart_id"),l=a.cart,s=l.map((function(e){return e.key})).indexOf(o),l[s].quantity=Number(t.target.value),e.prev=6,e.next=9,(new A.e).updateQuantity(c,o,Number(t.target.value));case 9:e.sent&&(n({type:"UPDATE_CART",payload:l}),a.cart&&a.cart.length>0&&f(ie(a.cart)),i=l.find((function(e){return e.quantity<1})),ce(!!i)),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(6);case 15:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t,a){return e.apply(this,arguments)}}();return B(l.a.Fragment,null,B(W.a,{title:q,linkTo:Q,linkText:$,show:P,success:Q.length>0,handleClose:function(){S&&e.push("/cart"),I(!1)}},B("p",null,G)),B(z.a,null,B("div",{className:"page-header"},B("h1",{className:"page-title"},"Shopping Cart")),B("div",{className:"row"},B("div",{className:"col-md-4"},B("div",{className:"row mb-0"},B(s.a,{className:"firstcard"},B(E,{variant:"flush",className:"mt-2 mb-2"},B(E.Item,{style:{height:"38px"}},B("div",{className:"row justify-content-between cartitemscard"},B("div",null,B("h6",{className:"ml-2",style:{fontWeight:"bold",color:"#3F3D56"}},"Cart items")),B("div",{style:{marginTop:"-3px"}},B(T.a,{variant:"danger",className:"cartitemsnumber mr-3"},B("h6",{className:"cartnum"},a.cart?a.cart.length:0))))))))),B("div",{className:"col-md-8"},B(s.a,null,B(s.a.Header,{className:"row orderlists"},B("div",{className:"col-5"},B("h6",{className:"text-muted",style:{fontWeight:"bold"}},"Items")),B("div",{className:"col-7 d-flex justify-content-between cardheadthree",style:{margin:0,padding:0}},B("div",{className:"row",style:{margin:0,padding:0,width:"100%"}},B("div",{className:"col-3 wholecolumn"},B("h6",{className:"text-muted",style:{fontWeight:"bold"}},"Quantity")),B("div",{className:"col-3 pl-3 wholecolumn ",style:{margin:0,padding:0}},B("h6",{className:"text-muted",style:{fontWeight:"bold"}},"Unit Price")),B("div",{className:"col-4 pl-3 wholecolumn",style:{margin:0,padding:0}},B("h6",{className:"text-muted",style:{fontWeight:"bold"}},"Total Price")),B("div",{className:"col-2 wholecolumn"},B("h6",{className:"text-muted text-right",style:{fontWeight:"bold"}},"Action"))))),B(E,{variant:"flush"},u.length>0?u.map((function(e,t){return B(E.Item,{key:t,className:"tableposition"},B("div",{className:"row justify-content-between "},B("div",{className:"col-md-5 "},B("div",{className:"row"},B("div",{className:"col-md-3 mt-1"},B("img",{className:"cartimgcontainer",src:"".concat("/api").concat(e.img)})),B("div",{className:"col-md-9 mt-5"},B("h6",{className:"productname"},e.name)))),B("div",{className:"col-md-7"},B("div",{className:"row justify-content-between mt-4"},B("div",{className:"col-md-3"},B("input",{id:"cartquantity",className:"form-control form-rounded qtybox",type:"number",placeholder:"Qty",min:1,value:e.quantity,onChange:function(t){return ue(t,e.key)}})),B("div",{className:"col-3 col-md-3 mt-2 wholecolumn "},B("h6",null,"GH\xa2"," ",e.price-e.discount/100*e.price)),B("div",{className:"col-4 mt-2 itemprice"},B("h6",null,B("span",null,"GH\xa2 "),K.a.formatMoney((e.price-e.discount/100*e.price)*e.quantity,{symbol:"",format:"%v %s"}))),B("div",{className:"col-2 mt-1",title:"Delete",onClick:function(){return se(e.key)}},B("i",{className:"fe fe-trash-2 cart-delete"}))))))})):B("div",{className:"row justify-content-center mt-6"},B(E,{variant:"flush",className:"emptycart"},B("div",{className:"emptycartinfo "},B("svg",{xmlns:"http://www.w3.org/2000/svg",width:"130",height:"130",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"0.5","stroke-linecap":"round","stroke-linejoin":"round",className:"feather feather-shopping-cart"},B("circle",{cx:"9",cy:"21",r:"1"}),B("circle",{cx:"20",cy:"21",r:"1"}),B("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"}))),B("div",{className:"row emptycartMessage"},B("p",null," You have no items in your cart")))),B("hr",null),a.cart&&a.cart.length>0?B("div",{className:"row"},B("div",{className:"col-md-6"}),B("div",{className:"col-md-6 ml-0  d-flex cartfoot"},B(U.a,{className:"checkoutbtn mb-5 mt-1  ml-0 justify-content-center","data-toggle":"modal","data-target":v?"#checkout1":"#checkout2",disabled:oe},"Place order"),B("div",{className:"mt-3 ml-5"},B("h6",null,"Total: GH\xa2 "," ",K.a.formatMoney(p,{symbol:"",format:"%v %s"}))))):"")))),B(L,{cart:a.cart}),B(D,{cart:a.cart})))}},QLaP:function(e,t,a){"use strict";e.exports=function(e,t,a,n,r,o,c,l){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=[a,n,r,o,c,l],u=0;(s=new Error(t.replace(/%s/g,(function(){return i[u++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},VCL8:function(e,t,a){"use strict";function n(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function r(e){this.setState(function(t){var a=this.constructor.getDerivedStateFromProps(e,t);return null!==a&&void 0!==a?a:null}.bind(this))}function o(e,t){try{var a=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(a,n)}finally{this.props=a,this.state=n}}function c(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var a=null,c=null,l=null;if("function"===typeof t.componentWillMount?a="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(a="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?c="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(c="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?l="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(l="UNSAFE_componentWillUpdate"),null!==a||null!==c||null!==l){var s=e.displayName||e.name,i="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+s+" uses "+i+" but also contains the following legacy lifecycles:"+(null!==a?"\n  "+a:"")+(null!==c?"\n  "+c:"")+(null!==l?"\n  "+l:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=n,t.componentWillReceiveProps=r),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,a){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:a;u.call(this,e,t,n)}}return e}a.d(t,"a",(function(){return c})),n.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},YGJp:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("q1tI");function r(){return Object(n.useReducer)((function(e){return!e}),!1)[1]}},YdCC:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a("wx14"),r=a("zLVn"),o=a("TSYQ"),c=a.n(o),l=/-(.)/g;var s=a("q1tI"),i=a.n(s),u=a("vUet"),d=function(e){return e[0].toUpperCase()+(t=e,t.replace(l,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function m(e,t){var a=void 0===t?{}:t,o=a.displayName,l=void 0===o?d(e):o,s=a.Component,m=a.defaultProps,p=i.a.forwardRef((function(t,a){var o=t.className,l=t.bsPrefix,d=t.as,m=void 0===d?s||"div":d,p=Object(r.a)(t,["className","bsPrefix","as"]),f=Object(u.a)(l,e);return i.a.createElement(m,Object(n.a)({ref:a,className:c()(o,f)},p))}));return p.defaultProps=m,p.displayName=l,p}},ZCiN:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("q1tI");var r=function(e){var t=Object(n.useRef)(e);return Object(n.useEffect)((function(){t.current=e}),[e]),t};function o(e){var t=r(e);return Object(n.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}},Zeqi:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=Function.prototype.bind.call(Function.prototype.call,[].slice);function r(e,t){return n(e.querySelectorAll(t))}},dI71:function(e,t,a){"use strict";function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}a.d(t,"a",(function(){return n}))},lcWJ:function(e,t,a){"use strict";var n=a("q1tI"),r=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};t.a=function(e,t){return Object(n.useMemo)((function(){return function(e,t){var a=r(e),n=r(t);return function(e){a&&a(e),n&&n(e)}}(e,t)}),[e,t])}},tsWT:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),o=a("YFqc"),c=a.n(o),l=r.a.createElement;t.a=function(e){var t=Object(n.useState)(e.show),a=t[0],o=t[1];return Object(n.useEffect)((function(){o(e.show)}),[e.show]),l("div",{id:"myModal",className:"modal",style:{display:a?"block":"",zIndex:9999}},l("div",{style:{display:a?"block":"",position:"absolute",width:"100%",height:"100%",backgroundColor:"black",opacity:.6}}),l("div",{className:"modal-content",style:{width:"400px",position:"absolute",left:"50%",top:"50%",marginLeft:"-200px",verticalAlign:"middle",padding:"20px",textAlign:"center"}},l("div",{style:{fontWeight:"bold"}}," ",e.children),e.success?l(c.a,{href:e.linkTo},l("a",{className:"btn btn-primary"},e.linkText)):e.linkText.length>0?l("div",{className:"prompt"},l("a",{type:"button",className:"btn btn-primary prompt_btn",onClick:function(){e.handleClose()},style:{fontSize:15}},e.linkText)):l(r.a.Fragment,null)))}}},[["+f1E",0,1,2,3]]]);