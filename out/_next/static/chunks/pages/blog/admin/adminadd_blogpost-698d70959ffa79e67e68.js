_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[29],{AZek:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/admin/adminadd_blogpost",function(){return n("jTnp")}])},jTnp:function(e,t,n){"use strict";n.r(t);var a=n("o0o1"),l=n.n(a),o=n("HaE+"),s=n("UYf5"),i=n("YFqc"),r=n.n(i),c=n("q1tI"),d=n.n(c),u=n("y4gq"),m=n("tsWT"),p=n("TBf0"),f=n("wd/R"),y=n.n(f),g=n("sq/0"),b=n("nOHt"),v=n("mJI6"),h=d.a.createElement,k=[{key:"GT",name:"Grants"},{key:"LN",name:"Loans"},{key:"ET",name:"Events"},{key:"SP",name:"Scholarships"}];t.default=function(){Object(c.useRef)(null);var e=Object(c.useState)("Upload Image"),t=(e[0],e[1],Object(c.useState)("")),n=t[0],a=t[1],i=Object(c.useState)(""),f=i[0],_=i[1],B=Object(c.useState)(""),N=B[0],j=B[1],E=Object(c.useState)(""),w=E[0],I=E[1],O=Object(c.useState)(""),S=O[0],P=O[1],C=Object(c.useState)(),q=(C[0],C[1],Object(c.useState)("")),x=q[0],z=q[1],A=Object(c.useState)(),R=A[0],T=A[1],D=Object(c.useState)(""),U=D[0],L=(D[1],Object(c.useState)(!1)),W=L[0],F=L[1],M=Object(c.useState)(""),Y=M[0],G=M[1],J=Object(c.useState)(""),V=J[0],Z=J[1],H=Object(c.useState)(""),X=H[0],K=H[1],Q=Object(c.useState)(""),$=Q[0],ee=Q[1],te=Object(c.useState)(),ne=te[0],ae=te[1],le=Object(c.useState)(!1),oe=le[0],se=le[1],ie=Object(c.useState)(""),re=(ie[0],ie[1],Object(c.useState)(!1)),ce=(re[0],re[1],Object(b.useRouter)()),de=function(e,t,n,a){F(!0),G(e),ee(n),K(t),Z(a)},ue=function(){var e=Object(o.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,"string"===typeof t){e.next=3;break}return e.abrupt("return",n);case 3:return(a=t.match(/data:([a-zA-Z0-9]+\/[a-zA-Z0-9-.+]+).*,.*/))&&a.length&&(n=a[1]),e.abrupt("return",n.substring(6));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=new FormData).append("title",n),a.append("description",f),a.append("category",N),a.append("phone_number",S),a.append("video_url",x),a.append("external_links",U),w&&a.append("email",w),R&&a.append("expiry_date",y()(R).format("YYYY-MM-DDThh:mm")),ne&&a.append("media",ne,"blogPic.jpg"),!(w.length<=0&&S.length<=0)){e.next=14;break}return de("Add Blog","","Okay","Please provide either a valid email or phone number"),e.abrupt("return");case 14:if(!(S.length>10)){e.next=17;break}return de("Add Blog","","Okay","Please provide a valid phone number"),e.abrupt("return");case 17:if(!(S.length<10&&S.length>0)){e.next=20;break}return de("Add Blog","","Okay","Please provide a valid phone number"),e.abrupt("return");case 20:if(!(new Date(R)<new Date)){e.next=25;break}return de("Post A Blog","","Okay","Please select a date that is after today"),e.abrupt("return");case 25:if(!(N.length<=0||"Select Category"===N)){e.next=30;break}return de("Add Request","","Okay","Please select a Blog Type"),e.abrupt("return");case 30:return e.prev=30,de("Add Blog","","","Please wait..."),e.next=34,(new p.b).createBlog(a);case 34:(o=e.sent).key&&(se(!0),de("Blog Post","/blog/admin/adminviewmyblogpost","Okay","Blog succesfully posted.")),o.email.includes("Enter a valid email address.")&&de("Blog Post","","Okay","Please provide a valid email address."),e.next=42;break;case 39:e.prev=39,e.t0=e.catch(30),de("Blog Post","","Okay","Error posting blog. Please try again.");case 42:if(!(f.length<1)){e.next=45;break}return de("Post A Blog","","Okay","Please provide a proper blog description"),e.abrupt("return");case 45:case"end":return e.stop()}}),e,null,[[30,39]])})));return function(t){return e.apply(this,arguments)}}();return h(d.a.Fragment,null,h(u.a,{title:"Add Blog Post",pageTitle:""},h(v.a,{handleList:function(){}}),h(m.a,{title:Y,linkTo:X,linkText:$,show:W,success:X.length>0,handleClose:function(){oe&&ce.push("/blog/blog"),F(!1)}},h("p",null,V)),h("div",null,h("div",{className:"page-header w-100"},h("h1",{className:"page-title"},"Add Blog Post")),h("form",{className:" col form-group md-12",onSubmit:me},h("div",{className:"row"},h("div",{className:"col-lg-6 col-md-6 col-sm-12"},h("div",{className:"form-group"},h("label",{style:{fontWeight:"bolder"}},"Blog Topic ",h("span",{style:{color:"red"}},"*")),h("input",{type:"text",id:"blog_topic",className:"form-control form-rounded add_job_formleft",placeholder:"eg. Scholarship for Undergraduates",required:!0,onChange:function(e){a(e.target.value)}})),h("div",{className:"form-group"},h("label",{style:{fontWeight:"bolder"}},"Category ",h("span",{style:{color:"red"}},"*")),h("select",{id:"blog_category",className:"form-control form-rounded add_job_formleft",value:N,onChange:function(e){e.preventDefault(),j(e.target.value)}},h("option",null,"Select Category"),k.map((function(e,t){return h("option",{className:"dropdown-item",key:t,value:e.key},e.name)})))),h("div",{className:"form-group"},h("div",{className:"input-group-data add_job_formright",id:"blog_description_txt"},h(s.a,{apiKey:"jnq6bu3a3gvvn2nvdtz5e65m7ffttui7jqw5pgo6wvksdzo1",init:{placeholder:"What's on your mind?",height:200,force_br_newlines:!1,force_p_newlines:!1,forced_root_block:"",branding:!1,menubar:!1,resize:!1,statusbar:!1,fontsize_formats:"8pt 10pt 12pt 14pt 18pt 24pt 36pt",plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code wordcount emoticons link"],toolbar:"  bold  italic | backcolor |  emoticons                                 | link | alignleft  aligncenter  alignright  alignjustify | bullist | numlist                                 | fontsizeselect "},onEditorChange:function(e){return _(e)}})))),h("div",{className:"col-md-6"},h("div",{className:"form-group"},h("label",{style:{fontWeight:"bolder"}},"Email"),h("input",{type:"email",id:"blog_contact_details",className:"form-control form-rounded add_job_formleft",placeholder:"Email",onChange:function(e){e.preventDefault(),!0===Object(g.a)(e.target.value)&&I(e.target.value)}})),h("div",{className:"form-group"},h("label",{style:{fontWeight:"bolder"}},"Phone Number"),h("input",{type:"number",id:"blog_contact_details",className:"form-control form-rounded add_job_formleft",placeholder:"Phone Number",onChange:function(e){e.preventDefault(),P(e.target.value)}})),h("div",{className:"form-group"},h("label",{style:{fontWeight:"bolder"}},"Expiry Date"),h("input",{type:"date",id:"expiry_date",value:R,className:"form-control form-rounded add_job_formleft",onChange:function(e){T(e.target.value)}})),h("div",{className:"form-group"},h("label",{style:{fontWeight:"bolder"}},"Attach Video URL"),h("input",{type:"url",id:"blog_topic",className:"form-control form-rounded add_job_formleft",placeholder:"eg. http://www.youtube.com/GhncGh",onChange:function(e){return z(e.target.value)}})),h("div",{className:"form-group"},h("div",{className:"mt-6"},h("input",{type:"file",accept:"image/*",className:"",id:"blog_image",onChange:function(e){e.preventDefault();var t=Object.values(e.target.files).filter((function(e){return e.type.includes("image")}));t<1&&de("Image Upload","","Okay","Please upload only images");var n,a=t.filter((function(e){return e.size<5e6?e:de("Upload Image","","Okay","File size too big. Upload an image less than 5MB")})).map((function(e){return URL.createObjectURL(e)})),s=new XMLHttpRequest;s.responseType="blob",s.onload=function(){var e=s.response,t=new FileReader;t.onload=Object(o.a)(l.a.mark((function e(){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.result,s=function(){var e=Object(o.a)(l.a.mark((function e(t,n,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t).then((function(e){return e.arrayBuffer()})).then((function(e){return new File([e],"".concat(n,".").concat(a),{type:"image/".concat(a)})})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),e.t0=s,e.t1=a,e.next=6,ue(a);case 6:return e.t2=e.sent,e.next=9,(0,e.t0)(e.t1,"blogImage",e.t2);case 9:n=e.sent,ae(n);case 11:case"end":return e.stop()}}),e)}))),t.readAsDataURL(e)},s.open("GET",a),s.send()}}))))),h("div",{className:"row justify-content-center job_buttons"},h("div",{className:"mr-3 addjob_btn"},h("button",{className:"btn btn-primary btn-block addjob_save_btn mb-1 mt-5",id:"job_save_btn",type:"submit"},"Post")),h("div",null,h(r.a,{href:"/blog/admin/adminviewmyblogpost"},h("button",{className:"btn btn-primary btn-block addjob_cancel_btn mb-1 mt-5",id:"job_cancel_btn"},"Cancel"))))))))}},mJI6:function(e,t,n){"use strict";var a=n("q1tI"),l=n.n(a),o=n("f4ym"),s=l.a.createElement;function i(){document.getElementById("mySidenav").style.width="247px",document.getElementById("openicon").style.display="none"}t.a=function(e){var t=e.handleList;return s("div",null,s("div",{onClick:function(){return function(){var e=document.getElementById("closeicon");e.style.display="block"==e.style.display?"none":"block"}()}},s("i",{className:"fa fa-chevron-circle-right openicon mr-5",id:"openicon",onClick:function(){return i()},style:{fontSize:"20px",cursor:"pointer"}})),s("a",{onClick:function(){return document.getElementById("mySidenav").style.width="60px",document.getElementById("userlist").style.display="none",document.getElementById("openicon").style.display="block",document.getElementById("closeicon").style.display="none",void(document.getElementById("marketpostrequest").style.display="none")}},s("i",{className:"fa fa-chevron-circle-left closebtn",id:"closeicon"})),s("div",{id:"mySidenav",className:"sidenav"},s("div",{className:"heading"},s("a",{href:"#dashboard"},s("li",null,s("i",{className:"fe fe-grid mr-5"}),"Dashboard")),s("br",null),s("br",null)),s("div",{className:"sidenavmenu"},s("a",{href:"#",onClick:function(){return function(){var e;(e=document.getElementById("userlist")).style.display="block"==e.style.display?"none":"block",(e=document.getElementById("joblist")).style.display="none",(e=document.getElementById("forumlist")).style.display="none",(e=document.getElementById("bloglist")).style.display="none",(e=document.getElementById("marketpostrequest")).style.display="none",i(),document.getElementById("closeicon").style.display="block"}()}},s("li",null,s("i",{className:"fe fe-user mr-5"}),"Users",s("i",{id:"optionicon",className:"fe fe-chevron-right mt-1"})))),s("ul",{id:"userlist"},s(o.a,{href:"/users/individualUsers"},s("a",{onClick:function(){t("individuals")}},s("li",null,"Individual Users"))),s(o.a,{href:"/users/organizationalUsers"},s("a",{onClick:function(){t("organizations")}},s("li",null,"Organization Users"))),s(o.a,{href:"/users/organizationalRequest"},s("a",{onClick:function(){t("organizationalrequests")}},s("li",null,"Organizational Requests"))),s(o.a,{href:"/users/deactivatedAccounts"},s("a",{onClick:function(){t("deactivated_users")}},s("li",null,"Deactivated Accounts"))),s(o.a,{href:"/userList"},s("a",{onClick:function(){t("deactivated_organizations")}},s("li",null,"Deactivated organizations")))),s("div",{className:"sidenavmenu"},s("a",{href:"#",onClick:function(){return function(){var e;(e=document.getElementById("marketpostrequest")).style.display="block"==e.style.display?"none":"block",(e=document.getElementById("userlist")).style.display="none",(e=document.getElementById("joblist")).style.display="none",(e=document.getElementById("forumlist")).style.display="none",(e=document.getElementById("bloglist")).style.display="none",i(),document.getElementById("closeicon").style.display="block"}()}},s("li",null,s("i",{className:"fe fe-align-left mr-5"}),"Marketplace",s("i",{id:"optionicon",className:"fe fe-chevron-right mt-1"})))),s("ul",{id:"marketpostrequest"},s(o.a,{href:"/products/marketpostRequest/marketpostRequest"},s("a",null,s("li",null,"Market Post Request"))),s(o.a,{href:"/products/admin-orders"},s("a",null,s("li",null,"Orders")))),s("div",{className:"sidenavmenu"},s("a",{href:"#",onClick:function(){return function(){var e;(e=document.getElementById("joblist")).style.display="block"==e.style.display?"none":"block",(e=document.getElementById("userlist")).style.display="none",(e=document.getElementById("forumlist")).style.display="none",(e=document.getElementById("bloglist")).style.display="none",(e=document.getElementById("marketpostrequest")).style.display="none",i(),document.getElementById("closeicon").style.display="block"}()}},s("li",null,s("i",{className:"fe fe-briefcase mr-5"}),"Jobs",s("i",{id:"optionicon",className:"fe fe-chevron-right mt-1"})))),s("ul",{id:"joblist"},s(o.a,{href:"/jobs/job_category"},s("a",{onClick:function(){t("individuals")}},s("li",null,"View job categories")))),s("div",{className:"sidenavmenu"},s("a",{href:"#partnership"},s("li",null,s("i",{className:"fe fe-link mr-5"}),"Partnership"))),s("div",{className:"sidenavmenu"},s("a",{href:"#",onClick:function(){return function(){var e;(e=document.getElementById("forumlist")).style.display="block"==e.style.display?"none":"block",(e=document.getElementById("userlist")).style.display="none",(e=document.getElementById("joblist")).style.display="none",(e=document.getElementById("bloglist")).style.display="none",(e=document.getElementById("marketpostrequest")).style.display="none",i(),document.getElementById("closeicon").style.display="block"}()}},s("li",null,s("i",{className:"fe fe-message-circle mr-5"}),"Forum",s("i",{id:"optionicon",className:"fe fe-chevron-right mt-1"})))),s("ul",{id:"forumlist"},s(o.a,{href:"/forum/forum_category"},s("a",null,s("li",null,"View forum categories")))),s("div",{className:"sidenavmenu"},s("a",{href:"#",onClick:function(){return function(){var e;(e=document.getElementById("bloglist")).style.display="block"==e.style.display?"none":"block",(e=document.getElementById("userlist")).style.display="none",(e=document.getElementById("joblist")).style.display="none",(e=document.getElementById("forumlist")).style.display="none",(e=document.getElementById("marketpostrequest")).style.display="none",i(),document.getElementById("closeicon").style.display="block"}()}},s("li",null,s("i",{className:"fe fe-align-left mr-5"}),"Blog",s("i",{id:"optionicon",className:"fe fe-chevron-right mt-1"})))),s("ul",{id:"bloglist"},s(o.a,{href:"/blog/admin/adminadd_blogpost"},s("a",null,s("li",null,"Add Post"))),s(o.a,{href:"/blog/admin/adminviewmyblogpost"},s("a",null,s("li",null,"View my post"))),s(o.a,{href:"/blog/admin/postRequests"},s("a",null,s("li",null,"Blog Post Request"))))))}}},[["AZek",0,1,6,2,3,5,11]]]);